<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理后台 - 一碗小米周授权登录平台</title>
    <link rel="stylesheet" href="https://fa.2hs.cn/pro/7.0.0/css/all.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- 顶部导航栏 -->
    <nav class="navbar">
        <div class="navbar-content">
            <button class="btn-toggle-sidebar" id="btn-toggle-sidebar">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <span>管理后台</span>
            </div>
            <div class="nav-right">
                <div class="user-info">
                    <img src="" alt="头像" class="user-avatar" id="nav-avatar">
                    <span class="user-name" id="nav-username">管理员</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <div class="main-container">
        <!-- 左侧导航栏 -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <!-- 站点概览 -->
                <a href="#overview" class="nav-item active" data-page="overview">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>站点概览</span>
                </a>

                <!-- 用户管理 -->
                <div class="nav-group">
                    <div class="nav-group-title">
                        <i class="fas fa-users"></i>
                        <span>用户管理</span>
                        <i class="fas fa-chevron-down nav-group-arrow"></i>
                    </div>
                    <div class="nav-group-items">
                        <a href="#user-list" class="nav-item" data-page="user-list">
                            <i class="fas fa-user"></i>
                            <span>用户列表</span>
                        </a>
                        <a href="#admin-list" class="nav-item" data-page="admin-list">
                            <i class="fas fa-user-shield"></i>
                            <span>管理员列表</span>
                        </a>
                    </div>
                </div>

                <!-- 系统配置 -->
                <div class="nav-group">
                    <div class="nav-group-title">
                        <i class="fas fa-cog"></i>
                        <span>系统配置</span>
                        <i class="fas fa-chevron-down nav-group-arrow"></i>
                    </div>
                    <div class="nav-group-items">
                        <a href="#email-config" class="nav-item" data-page="email-config">
                            <i class="fas fa-envelope"></i>
                            <span>邮件配置</span>
                        </a>
                        <a href="#email-template" class="nav-item" data-page="email-template">
                            <i class="fas fa-file-alt"></i>
                            <span>邮件模板</span>
                        </a>
                        <a href="#sms-config" class="nav-item" data-page="sms-config">
                            <i class="fas fa-sms"></i>
                            <span>短信配置</span>
                        </a>
                        <a href="#sms-limit-config" class="nav-item" data-page="sms-limit-config">
                            <i class="fas fa-shield-alt"></i>
                            <span>短信限制配置</span>
                        </a>
                        <a href="#captcha-config" class="nav-item" data-page="captcha-config">
                            <i class="fas fa-robot"></i>
                            <span>人机验证配置</span>
                        </a>
                        <a href="#third-party-login-config" class="nav-item" data-page="third-party-login-config">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>第三方授权配置</span>
                        </a>
                        <a href="#nickname-check-config" class="nav-item" data-page="nickname-check-config">
                            <i class="fas fa-user-tag"></i>
                            <span>昵称审核配置</span>
                        </a>
                        <a href="#avatar-check-config" class="nav-item" data-page="avatar-check-config">
                            <i class="fas fa-image"></i>
                            <span>头像审核配置</span>
                        </a>
                        <a href="#storage-config" class="nav-item" data-page="storage-config">
                            <i class="fas fa-hdd"></i>
                            <span>存储策略配置</span>
                        </a>
                        <a href="#permission-config" class="nav-item" data-page="permission-config">
                            <i class="fas fa-key"></i>
                            <span>权限配置</span>
                        </a>
                    </div>
                </div>

                <!-- 审核 -->
                <div class="nav-group">
                    <div class="nav-group-title">
                        <i class="fas fa-check-circle"></i>
                        <span>审核</span>
                        <i class="fas fa-chevron-down nav-group-arrow"></i>
                    </div>
                    <div class="nav-group-items">
                        <a href="#nickname-review" class="nav-item" data-page="nickname-review">
                            <i class="fas fa-user-edit"></i>
                            <span>昵称审核</span>
                        </a>
                        <a href="#avatar-review" class="nav-item" data-page="avatar-review">
                            <i class="fas fa-portrait"></i>
                            <span>头像审核</span>
                        </a>
                    </div>
                </div>

                <!-- 应用管理 -->
                <div class="nav-group">
                    <div class="nav-group-title">
                        <i class="fas fa-th"></i>
                        <span>应用管理</span>
                        <i class="fas fa-chevron-down nav-group-arrow"></i>
                    </div>
                    <div class="nav-group-items">
                        <a href="#oauth-apps" class="nav-item" data-page="oauth-apps">
                            <i class="fas fa-link"></i>
                            <span>授权登录应用</span>
                        </a>
                        <a href="#user-center-apps" class="nav-item" data-page="user-center-apps">
                            <i class="fas fa-user-circle"></i>
                            <span>用户中心应用</span>
                        </a>
                    </div>
                </div>

                <!-- 日志 -->
                <div class="nav-group">
                    <div class="nav-group-title">
                        <i class="fas fa-history"></i>
                        <span>日志</span>
                        <i class="fas fa-chevron-down nav-group-arrow"></i>
                    </div>
                    <div class="nav-group-items">
                        <a href="#captcha-logs" class="nav-item" data-page="captcha-logs">
                            <i class="fas fa-shield-alt"></i>
                            <span>人机验证日志</span>
                        </a>
                        <a href="#system-logs" class="nav-item" data-page="system-logs">
                            <i class="fas fa-server"></i>
                            <span>系统日志</span>
                        </a>
                        <a href="#sms-logs" class="nav-item" data-page="sms-logs">
                            <i class="fas fa-comment-dots"></i>
                            <span>短信发送日志</span>
                        </a>
                        <a href="#email-logs" class="nav-item" data-page="email-logs">
                            <i class="fas fa-envelope-open"></i>
                            <span>邮件发送日志</span>
                        </a>
                        <a href="#login-logs" class="nav-item" data-page="login-logs">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>登录日志</span>
                        </a>
                    </div>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <button class="btn-logout" id="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>退出登录</span>
                </button>
            </div>
        </aside>

        <!-- 右侧内容区 -->
        <main class="content-area">
            <!-- 站点概览 -->
            <div class="page-content active" id="page-overview">
                <div class="page-header">
                    <h1>站点概览</h1>
                    <p>查看系统整体运行状态和统计数据</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-total-users">-</div>
                            <div class="stat-label">总用户数</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-today-register">-</div>
                            <div class="stat-label">今日注册</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                            <i class="fas fa-sign-in-alt"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-today-login">-</div>
                            <div class="stat-label">今日登录</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                            <i class="fas fa-th"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-total-apps">-</div>
                            <div class="stat-label">接入应用</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="fas fa-portrait"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-pending-avatars">-</div>
                            <div class="stat-label">待审核头像</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
                            <i class="fas fa-user-edit"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-pending-nicknames">-</div>
                            <div class="stat-label">待审核昵称</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <p class="text-muted">更多统计数据开发中...</p>
                    </div>
                </div>
            </div>

            <!-- 用户列表 -->
            <div class="page-content" id="page-user-list">
                <div class="page-header">
                    <h1>用户列表</h1>
                    <p>管理系统所有用户</p>
                </div>

                <!-- 搜索和筛选 -->
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-body" style="padding: 20px;">
                        <div class="search-filter-bar">
                            <div class="search-box">
                                <input type="text" id="user-search" placeholder="搜索用户名、昵称、手机号、邮箱..." class="search-input">
                                <button class="btn-search" id="btn-user-search">
                                    <i class="fas fa-search"></i>
                                    搜索
                                </button>
                            </div>
                            <div class="filter-box">
                                <select id="filter-user-type" class="filter-select">
                                    <option value="">全部类型</option>
                                    <option value="user">普通用户</option>
                                    <option value="admin">管理员</option>
                                    <option value="siteadmin">站点管理员</option>
                                </select>
                                <select id="filter-status" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">已封禁</option>
                                    <option value="2">手机号待核验</option>
                                    <option value="3">邮箱待核验</option>
                                </select>
                                <button class="btn-reset" id="btn-reset-filter">
                                    <i class="fas fa-redo"></i>
                                    重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 用户列表表格 -->
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <!-- 加载中 -->
                        <div id="user-list-loading" class="loading-container">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="user-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-users"></i>
                            <h3>暂无用户</h3>
                            <p>系统中还没有注册用户</p>
                        </div>

                        <!-- 用户表格 -->
                        <div id="user-list-table" style="display: none;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>用户名</th>
                                        <th>昵称</th>
                                        <th>联系方式</th>
                                        <th>类型</th>
                                        <th>状态</th>
                                        <th>注册时间</th>
                                        <th>最后登录</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="user-list-tbody">
                                    <!-- 用户数据将通过 JavaScript 动态生成 -->
                                </tbody>
                            </table>

                            <!-- 分页 -->
                            <div class="pagination-container" id="user-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 管理员列表 -->
            <div class="page-content" id="page-admin-list">
                <div class="page-header">
                    <h1>管理员列表</h1>
                    <p>管理系统管理员账户</p>
                </div>

                <!-- 搜索栏 -->
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-body" style="padding: 20px;">
                        <div class="search-filter-bar">
                            <div class="search-box">
                                <input type="text" id="admin-search" placeholder="搜索用户名、昵称、手机号、邮箱..." class="search-input">
                                <button class="btn-search" id="btn-admin-search">
                                    <i class="fas fa-search"></i>
                                    搜索
                                </button>
                            </div>
                            <div class="filter-box">
                                <button class="btn-reset" id="btn-reset-admin-filter">
                                    <i class="fas fa-redo"></i>
                                    重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 管理员列表表格 -->
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <!-- 加载中 -->
                        <div id="admin-list-loading" class="loading-container">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="admin-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-user-shield"></i>
                            <h3>暂无管理员</h3>
                            <p>系统中还没有管理员账户</p>
                        </div>

                        <!-- 管理员表格 -->
                        <div id="admin-list-table" style="display: none;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>用户名</th>
                                        <th>昵称</th>
                                        <th>联系方式</th>
                                        <th>类型</th>
                                        <th>状态</th>
                                        <th>注册时间</th>
                                        <th>最后登录</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-list-tbody">
                                    <!-- 管理员数据将通过 JavaScript 动态生成 -->
                                </tbody>
                            </table>

                            <!-- 分页 -->
                            <div class="pagination-container" id="admin-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 邮件配置 -->
            <div class="page-content" id="page-email-config">
                <div class="page-header">
                    <h1>邮件配置</h1>
                    <p>配置邮件发送服务</p>
                </div>
                
                <!-- 搜索和筛选 -->
                <div class="card">
                    <div class="card-body">
                        <div class="filter-bar">
                            <div class="filter-left">
                                <div class="search-box">
                                    <input type="text" id="email-config-search" placeholder="搜索配置名称、邮箱...">
                                    <button class="btn-search" id="btn-email-config-search">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                                <select id="filter-email-config-status" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">禁用</option>
                                    <option value="2">维护中</option>
                                </select>
                            </div>
                            <div class="filter-right">
                                <button class="btn-primary" id="btn-add-email-config">
                                    <i class="fas fa-plus"></i> 新增配置
                                </button>
                                <button class="btn-secondary" id="btn-reset-email-config-filter">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 配置列表 -->
                <div class="card">
                    <div class="card-body">
                        <!-- 加载中 -->
                        <div id="email-config-list-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="email-config-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无邮件配置</p>
                        </div>

                        <!-- 配置表格 -->
                        <div id="email-config-list-table" style="display: none;">
                            <div class="table-scroll-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>配置名称</th>
                                            <th>发件邮箱</th>
                                            <th>发件人名称</th>
                                            <th>SMTP服务器</th>
                                            <th>适用场景</th>
                                            <th>每日限制</th>
                                            <th>今日已发</th>
                                            <th>状态</th>
                                            <th>优先级</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="email-config-list-tbody">
                                        <!-- 数据将通过 JavaScript 动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <!-- 分页 -->
                            <div class="pagination" id="email-config-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 邮件模板 -->
            <div class="page-content" id="page-email-template">
                <div class="page-header">
                    <h1>邮件模板</h1>
                    <p>管理邮件模板</p>
                </div>
                
                <!-- 搜索和筛选 -->
                <div class="card">
                    <div class="card-body">
                        <div class="filter-bar">
                            <div class="filter-left">
                                <div class="search-box">
                                    <input type="text" id="email-template-search" placeholder="搜索模板名称、模板标识..." class="search-input">
                                    <button class="btn-search" id="btn-email-template-search">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                                <select id="filter-email-template-scene" class="filter-select">
                                    <option value="">全部场景</option>
                                    <option value="register">注册</option>
                                    <option value="login">登录</option>
                                    <option value="reset_password">重置密码</option>
                                    <option value="security_alert">安全警报</option>
                                    <option value="welcome">欢迎邮件</option>
                                </select>
                                <select id="filter-email-template-status" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">禁用</option>
                                    <option value="2">草稿</option>
                                </select>
                            </div>
                            <div class="filter-right">
                                <button class="btn-primary" id="btn-add-email-template">
                                    <i class="fas fa-plus"></i> 新增模板
                                </button>
                                <button class="btn-secondary" id="btn-reset-email-template-filter">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 模板列表 -->
                <div class="card">
                    <div class="card-body">
                        <!-- 加载中 -->
                        <div id="email-template-list-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="email-template-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无邮件模板</p>
                        </div>

                        <!-- 模板表格 -->
                        <div id="email-template-list-table" style="display: none;">
                            <div class="table-scroll-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>模板标识</th>
                                            <th>模板名称</th>
                                            <th>适用场景</th>
                                            <th>邮件主题</th>
                                            <th>模板变量</th>
                                            <th>状态</th>
                                            <th>优先级</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="email-template-list-tbody">
                                        <!-- 数据将通过 JavaScript 动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <!-- 分页 -->
                            <div class="pagination" id="email-template-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 短信配置 -->
            <div class="page-content" id="page-sms-config">
                <div class="page-header">
                    <h1>短信配置</h1>
                    <p>配置短信发送服务</p>
                </div>
                
                <!-- 配置教程提示 -->
                <div class="card" style="margin-bottom: 20px; border-left: 4px solid #ff6b6b;">
                    <div class="card-body" style="padding: 12px 20px; background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%);">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="flex-shrink: 0; width: 36px; height: 36px; background: #ff6b6b; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-exclamation-circle" style="color: white; font-size: 18px;"></i>
                            </div>
                            <div style="flex: 1; display: flex; align-items: center; gap: 15px;">
                                <span style="color: #2d3436; font-size: 14px;">
                                    <strong style="color: #d63031;">重要提示：</strong>短信配置涉及多个参数，不同渠道配置方式不同，<strong>强烈建议先查看配置教程</strong>了解各字段的正确配置格式。
                                </span>
                                <a href="https://docx.2hs.cn/web/#/664374947/252832752" target="_blank" 
                                   style="flex-shrink: 0; display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; background: #ff6b6b; color: white; text-decoration: none; border-radius: 4px; font-size: 13px; font-weight: 500; transition: all 0.3s; box-shadow: 0 2px 6px rgba(255, 107, 107, 0.3);"
                                   onmouseover="this.style.background='#ee5a52'; this.style.boxShadow='0 3px 8px rgba(255, 107, 107, 0.4)'"
                                   onmouseout="this.style.background='#ff6b6b'; this.style.boxShadow='0 2px 6px rgba(255, 107, 107, 0.3)'">
                                    <i class="fas fa-external-link-alt"></i>
                                    <span>查看配置教程</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 搜索和筛选 -->
                <div class="card">
                    <div class="card-body">
                        <div class="filter-bar">
                            <div class="filter-left">
                                <div class="search-box">
                                    <input type="text" id="sms-config-search" placeholder="搜索配置名称、签名..." class="search-input">
                                    <button class="btn-search" id="btn-sms-config-search">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                                <select id="filter-sms-config-purpose" class="filter-select">
                                    <option value="">全部用途</option>
                                    <option value="register">注册</option>
                                    <option value="login">登录</option>
                                    <option value="reset_password">重置密码</option>
                                    <option value="security_alert">安全警报</option>
                                    <option value="verify">验证</option>
                                </select>
                                <select id="filter-sms-config-channel" class="filter-select">
                                    <option value="">全部渠道</option>
                                    <option value="aliyun">阿里云</option>
                                    <option value="tencent">腾讯云</option>
                                    <option value="321cn">321.com.cn</option>
                                </select>
                                <select id="filter-sms-config-status" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">禁用</option>
                                    <option value="2">维护中</option>
                                </select>
                            </div>
                            <div class="filter-right">
                                <button class="btn-primary" id="btn-add-sms-config">
                                    <i class="fas fa-plus"></i> 新增配置
                                </button>
                                <button class="btn-secondary" id="btn-reset-sms-config-filter">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 配置列表 -->
                <div class="card">
                    <div class="card-body">
                        <!-- 加载中 -->
                        <div id="sms-config-list-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="sms-config-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无短信配置</p>
                        </div>

                        <!-- 配置表格 -->
                        <div id="sms-config-list-table" style="display: none;">
                            <div class="table-scroll-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>配置名称</th>
                                            <th>用途</th>
                                            <th>渠道</th>
                                            <th>签名</th>
                                            <th>模板ID</th>
                                            <th>每日限制</th>
                                            <th>今日已发</th>
                                            <th>剩余额度</th>
                                            <th>状态</th>
                                            <th>优先级</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="sms-config-list-tbody">
                                        <!-- 数据将通过 JavaScript 动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <!-- 分页 -->
                            <div class="pagination" id="sms-config-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 短信限制配置 -->
            <div class="page-content" id="page-sms-limit-config">
                <div class="page-header">
                    <h1>短信限制配置</h1>
                    <p>配置短信发送频率限制、黑白名单</p>
                </div>

                <!-- 标签页 -->
                <div class="tabs">
                    <button class="tab-btn active" data-tab="send-limit">
                        <i class="fas fa-clock"></i> 频率限制
                    </button>
                    <button class="tab-btn" data-tab="whitelist">
                        <i class="fas fa-check-circle"></i> 白名单
                    </button>
                    <button class="tab-btn" data-tab="blacklist">
                        <i class="fas fa-ban"></i> 黑名单
                    </button>
                </div>

                <!-- 频率限制标签页 -->
                <div class="tab-content active" id="tab-send-limit">
                    <!-- 搜索和筛选 -->
                    <div class="card">
                        <div class="card-body">
                            <div class="filter-bar">
                                <div class="filter-left">
                                    <div class="search-box">
                                        <input type="text" id="send-limit-search" placeholder="搜索限制名称..." class="search-input">
                                        <button class="btn-search" id="btn-send-limit-search">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                    <select id="filter-send-limit-type" class="filter-select">
                                        <option value="">全部类型</option>
                                        <option value="phone">手机号</option>
                                        <option value="ip">IP地址</option>
                                        <option value="phone_template">手机号+模板</option>
                                        <option value="ip_template">IP+模板</option>
                                        <option value="global">全局</option>
                                    </select>
                                    <select id="filter-send-limit-status" class="filter-select">
                                        <option value="">全部状态</option>
                                        <option value="1">启用</option>
                                        <option value="0">禁用</option>
                                    </select>
                                </div>
                                <div class="filter-right">
                                    <button class="btn-primary" id="btn-add-send-limit">
                                        <i class="fas fa-plus"></i> 新增限制
                                    </button>
                                    <button class="btn-secondary" id="btn-reset-send-limit-filter">
                                        <i class="fas fa-redo"></i> 重置
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 限制列表 -->
                    <div class="card">
                        <div class="card-body">
                            <!-- 加载中 -->
                            <div id="send-limit-list-loading" class="loading-state">
                                <div class="spinner"></div>
                                <p>加载中...</p>
                            </div>

                            <!-- 空状态 -->
                            <div id="send-limit-list-empty" class="empty-state" style="display: none;">
                                <div style="width: 100%;">
                                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%;">
                                        <i class="fas fa-inbox"></i>
                                        <p>暂无频率限制配置</p>
                                    </div>
                                </div>
                            </div>

                            <!-- 限制表格 -->
                            <div id="send-limit-list-table" style="display: none;">
                                <div class="table-scroll-container">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>限制名称</th>
                                                <th>模板ID</th>
                                                <th>用途</th>
                                                <th>限制类型</th>
                                                <th>时间窗口</th>
                                                <th>最大次数</th>
                                                <th>状态</th>
                                                <th>优先级</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody id="send-limit-list-tbody">
                                            <!-- 数据将通过 JavaScript 动态填充 -->
                                        </tbody>
                                    </table>
                                </div>

                                <!-- 分页 -->
                                <div class="pagination" id="send-limit-pagination">
                                    <!-- 分页将通过 JavaScript 动态生成 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 白名单标签页 -->
                <div class="tab-content" id="tab-whitelist">
                    <!-- 搜索和筛选 -->
                    <div class="card">
                        <div class="card-body">
                            <div class="filter-bar">
                                <div class="filter-left">
                                    <div class="search-box">
                                        <input type="text" id="whitelist-search" placeholder="搜索手机号..." class="search-input">
                                        <button class="btn-search" id="btn-whitelist-search">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                    <select id="filter-whitelist-status" class="filter-select">
                                        <option value="">全部状态</option>
                                        <option value="1">启用</option>
                                        <option value="0">禁用</option>
                                    </select>
                                </div>
                                <div class="filter-right">
                                    <button class="btn-primary" id="btn-add-whitelist">
                                        <i class="fas fa-plus"></i> 添加白名单
                                    </button>
                                    <button class="btn-secondary" id="btn-reset-whitelist-filter">
                                        <i class="fas fa-redo"></i> 重置
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 白名单列表 -->
                    <div class="card">
                        <div class="card-body">
                            <!-- 加载中 -->
                            <div id="whitelist-list-loading" class="loading-state">
                                <div class="spinner"></div>
                                <p>加载中...</p>
                            </div>

                            <!-- 空状态 -->
                            <div id="whitelist-list-empty" class="empty-state" style="display: none;">
                                <div style="width: 100%;">
                                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%;">
                                        <i class="fas fa-inbox"></i>
                                        <p>暂无白名单</p>
                                    </div>
                                </div>
                            </div>

                            <!-- 白名单表格 -->
                            <div id="whitelist-list-table" style="display: none;">
                                <div class="table-scroll-container">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>手机号</th>
                                                <th>原因</th>
                                                <th>状态</th>
                                                <th>过期时间</th>
                                                <th>创建人</th>
                                                <th>创建时间</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody id="whitelist-list-tbody">
                                            <!-- 数据将通过 JavaScript 动态填充 -->
                                        </tbody>
                                    </table>
                                </div>

                                <!-- 分页 -->
                                <div class="pagination" id="whitelist-pagination">
                                    <!-- 分页将通过 JavaScript 动态生成 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 黑名单标签页 -->
                <div class="tab-content" id="tab-blacklist">
                    <!-- 搜索和筛选 -->
                    <div class="card">
                        <div class="card-body">
                            <div class="filter-bar">
                                <div class="filter-left">
                                    <div class="search-box">
                                        <input type="text" id="blacklist-search" placeholder="搜索手机号..." class="search-input">
                                        <button class="btn-search" id="btn-blacklist-search">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                    <select id="filter-blacklist-status" class="filter-select">
                                        <option value="">全部状态</option>
                                        <option value="1">启用</option>
                                        <option value="0">禁用</option>
                                    </select>
                                </div>
                                <div class="filter-right">
                                    <button class="btn-primary" id="btn-add-blacklist">
                                        <i class="fas fa-plus"></i> 添加黑名单
                                    </button>
                                    <button class="btn-secondary" id="btn-reset-blacklist-filter">
                                        <i class="fas fa-redo"></i> 重置
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 黑名单列表 -->
                    <div class="card">
                        <div class="card-body">
                            <!-- 加载中 -->
                            <div id="blacklist-list-loading" class="loading-state">
                                <div class="spinner"></div>
                                <p>加载中...</p>
                            </div>

                            <!-- 空状态 -->
                            <div id="blacklist-list-empty" class="empty-state" style="display: none;">
                                <div style="width: 100%;">
                                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%;">
                                        <i class="fas fa-inbox"></i>
                                        <p>暂无黑名单</p>
                                    </div>
                                </div>
                            </div>

                            <!-- 黑名单表格 -->
                            <div id="blacklist-list-table" style="display: none;">
                                <div class="table-scroll-container">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>手机号</th>
                                                <th>原因</th>
                                                <th>状态</th>
                                                <th>过期时间</th>
                                                <th>创建人</th>
                                                <th>创建时间</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody id="blacklist-list-tbody">
                                            <!-- 数据将通过 JavaScript 动态填充 -->
                                        </tbody>
                                    </table>
                                </div>

                                <!-- 分页 -->
                                <div class="pagination" id="blacklist-pagination">
                                    <!-- 分页将通过 JavaScript 动态生成 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 人机验证配置 -->
            <div class="page-content" id="page-captcha-config">
                <div class="page-header">
                    <h1>人机验证配置</h1>
                    <p>配置人机验证服务</p>
                </div>
                
                <!-- 搜索和筛选 -->
                <div class="card">
                    <div class="card-body">
                        <div class="filter-bar">
                            <div class="filter-left">
                                <div class="search-box">
                                    <input type="text" id="captcha-config-search" placeholder="搜索配置名称、服务商..." class="search-input">
                                    <button class="btn-search" id="btn-captcha-config-search">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                                <select id="filter-captcha-config-type" class="filter-select">
                                    <option value="">全部类型</option>
                                    <option value="image_code">图形验证码</option>
                                    <option value="slider">滑块验证</option>
                                    <option value="behavior">行为验证</option>
                                    <option value="sms_code">短信验证码</option>
                                </select>
                                <select id="filter-captcha-config-provider" class="filter-select">
                                    <option value="">全部服务商</option>
                                    <option value="local">本地</option>
                                    <option value="tencent">腾讯云</option>
                                    <option value="aliyun">阿里云</option>
                                    <option value="geetest">极验</option>
                                </select>
                                <select id="filter-captcha-config-status" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">禁用</option>
                                    <option value="2">维护中</option>
                                </select>
                            </div>
                            <div class="filter-right">
                                <button class="btn-primary" id="btn-add-captcha-config">
                                    <i class="fas fa-plus"></i> 新增配置
                                </button>
                                <button class="btn-secondary" id="btn-reset-captcha-config-filter">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 配置列表 -->
                <div class="card">
                    <div class="card-body">
                        <!-- 加载中 -->
                        <div id="captcha-config-list-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="captcha-config-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无人机验证配置</p>
                        </div>

                        <!-- 配置表格 -->
                        <div id="captcha-config-list-table" style="display: none;">
                            <div class="table-scroll-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>配置名称</th>
                                            <th>验证类型</th>
                                            <th>服务商</th>
                                            <th>适用场景</th>
                                            <th>状态</th>
                                            <th>优先级</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="captcha-config-list-tbody">
                                        <!-- 数据将通过 JavaScript 动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <!-- 分页 -->
                            <div class="pagination" id="captcha-config-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 第三方授权配置 -->
            <div class="page-content" id="page-third-party-login-config">
                <div class="page-header">
                    <h1>第三方授权配置</h1>
                    <p>管理第三方登录平台配置</p>
                </div>
                
                <!-- 搜索和筛选 -->
                <div class="card">
                    <div class="card-body">
                        <div class="filter-bar">
                            <div class="filter-left">
                                <div class="search-box">
                                    <input type="text" id="third-party-login-config-search" placeholder="搜索配置名称、平台..." class="search-input">
                                    <button class="btn-search" id="btn-third-party-login-config-search">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                                <select id="filter-third-party-login-config-platform" class="filter-select">
                                    <option value="">全部平台</option>
                                    <option value="wechat">微信</option>
                                    <option value="qq">QQ</option>
                                    <option value="weibo">微博</option>
                                    <option value="alipay">支付宝</option>
                                    <option value="github">GitHub</option>
                                    <option value="google">Google</option>
                                    <option value="apple">Apple</option>
                                    <option value="dingtalk">钉钉</option>
                                    <option value="feishu">飞书</option>
                                </select>
                                <select id="filter-third-party-login-config-status" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">禁用</option>
                                    <option value="2">维护中</option>
                                </select>
                            </div>
                            <div class="filter-right">
                                <button class="btn-primary" id="btn-add-third-party-login-config">
                                    <i class="fas fa-plus"></i> 新增配置
                                </button>
                                <button class="btn-secondary" id="btn-reset-third-party-login-config-filter">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 配置列表 -->
                <div class="card">
                    <div class="card-body">
                        <!-- 加载中 -->
                        <div id="third-party-login-config-list-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="third-party-login-config-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无第三方授权配置</p>
                        </div>

                        <!-- 配置表格 -->
                        <div id="third-party-login-config-list-table" style="display: none;">
                            <div class="table-scroll-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>配置名称</th>
                                            <th>平台</th>
                                            <th>应用ID</th>
                                            <th>回调地址</th>
                                            <th>状态</th>
                                            <th>启用状态</th>
                                            <th>优先级</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="third-party-login-config-list-tbody">
                                        <!-- 数据将通过 JavaScript 动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <!-- 分页 -->
                            <div class="pagination" id="third-party-login-config-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 昵称审核配置 -->
            <div class="page-content" id="page-nickname-check-config">
                <div class="page-header">
                    <h1>昵称审核配置</h1>
                    <p>配置昵称审核规则和审核方式</p>
                </div>

                <!-- 基础配置 -->
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-header">
                        <h3>基础配置</h3>
                    </div>
                    <div class="card-body" style="padding: 30px;">
                        <form id="nickname-check-config-form">
                            <div class="form-row" style="gap: 30px; margin-bottom: 20px;">
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="nickname-is-enabled" style="width: 20px; height: 20px; cursor: pointer;">
                                        <span style="font-weight: 500;">启用昵称审核</span>
                                    </label>
                                    <small style="display: block; margin-top: 6px; color: #666;">开启后，用户修改昵称需要经过审核</small>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="nickname-auto-approve" style="width: 20px; height: 20px; cursor: pointer;">
                                        <span style="font-weight: 500;">自动通过审核</span>
                                    </label>
                                    <small style="display: block; margin-top: 6px; color: #666;">开启后，昵称将自动通过审核</small>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="nickname-check-sensitive" style="width: 20px; height: 20px; cursor: pointer;">
                                        <span style="font-weight: 500;">检查敏感词</span>
                                    </label>
                                    <small style="display: block; margin-top: 6px; color: #666;">开启后，将检测昵称中的敏感词</small>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="nickname-allow-special" style="width: 20px; height: 20px; cursor: pointer;">
                                        <span style="font-weight: 500;">允许特殊字符</span>
                                    </label>
                                    <small style="display: block; margin-top: 6px; color: #666;">开启后，昵称可以包含特殊字符</small>
                                </div>
                            </div>

                            <div class="form-row" style="gap: 20px; margin-bottom: 20px;">
                                <div class="form-group">
                                    <label for="nickname-min-length">最小长度</label>
                                    <input type="number" id="nickname-min-length" min="1" max="50" value="2" required>
                                    <small>昵称最小字符数（1-50）</small>
                                </div>
                                <div class="form-group">
                                    <label for="nickname-max-length">最大长度</label>
                                    <input type="number" id="nickname-max-length" min="1" max="100" value="20" required>
                                    <small>昵称最大字符数（1-100）</small>
                                </div>
                                <div class="form-group">
                                    <label for="nickname-guest-prefix">游客前缀</label>
                                    <input type="text" id="nickname-guest-prefix" value="游客-" maxlength="20">
                                    <small>游客昵称的默认前缀</small>
                                </div>
                            </div>

                            <div class="form-group full-width" style="margin-bottom: 20px;">
                                <label for="nickname-description">配置说明</label>
                                <textarea id="nickname-description" rows="3" placeholder="可选：添加配置说明"></textarea>
                            </div>

                            <div style="display: flex; gap: 10px;">
                                <button type="button" class="btn-primary" onclick="saveNicknameCheckConfig()">
                                    <i class="fas fa-save"></i> 保存配置
                                </button>
                                <button type="button" class="btn-secondary" onclick="loadNicknameCheckConfig()">
                                    <i class="fas fa-redo"></i> 重新加载
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- 敏感词列表 -->
                <div class="card">
                    <div class="card-header">
                        <h3>敏感词列表</h3>
                    </div>
                    <div class="card-body">
                        <!-- 操作栏 -->
                        <div class="filter-bar" style="margin-bottom: 20px;">
                            <div class="filter-left">
                                <input type="text" id="sensitive-word-search" class="filter-input" placeholder="搜索敏感词..." style="width: 300px; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                                <button class="btn-primary" id="btn-sensitive-word-search">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                                <button class="btn-primary" onclick="showAddSensitiveWordModal()">
                                    <i class="fas fa-plus"></i> 新增
                                </button>
                                <button class="btn-primary" onclick="showBatchImportModal()">
                                    <i class="fas fa-file-import"></i> 批量导入
                                </button>
                                <button class="btn-success" onclick="batchEnableSensitiveWords()">
                                    <i class="fas fa-check-circle"></i> 批量启用
                                </button>
                                <button class="btn-warning" onclick="batchDisableSensitiveWords()">
                                    <i class="fas fa-pause-circle"></i> 批量禁用
                                </button>
                                <button class="btn-info" onclick="showBatchChangeCategoryModal()">
                                    <i class="fas fa-tags"></i> 批量改分类
                                </button>
                                <button class="btn-danger" onclick="batchDeleteSensitiveWords()">
                                    <i class="fas fa-trash-alt"></i> 批量删除
                                </button>
                            </div>
                            <div class="filter-right">
                                <select id="filter-sensitive-category" class="filter-select">
                                    <option value="">全部分类</option>
                                    <option value="system">系统保留</option>
                                    <option value="political">政治</option>
                                    <option value="pornographic">色情</option>
                                    <option value="violent">暴力</option>
                                    <option value="advertising">广告</option>
                                    <option value="abuse">辱骂</option>
                                    <option value="other">其他</option>
                                </select>
                                <select id="filter-sensitive-enabled" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">启用</option>
                                    <option value="0">禁用</option>
                                </select>
                                <button class="btn-secondary" id="btn-reset-sensitive-filter">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>

                        <!-- 加载中 -->
                        <div id="sensitive-word-list-loading" class="loading-state" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="sensitive-word-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无敏感词</p>
                        </div>

                        <!-- 敏感词列表表格 -->
                        <div id="sensitive-word-list-table" style="display: none;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th style="width: 50px;">
                                            <input type="checkbox" id="select-all-sensitive-words" style="width: 18px; height: 18px; cursor: pointer;">
                                        </th>
                                        <th>ID</th>
                                        <th>敏感词</th>
                                        <th>分类</th>
                                        <th>严重程度</th>
                                        <th>处理动作</th>
                                        <th>替换词</th>
                                        <th>状态</th>
                                        <th>说明</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="sensitive-word-list-tbody">
                                    <!-- 数据将通过 JavaScript 动态填充 -->
                                </tbody>
                            </table>
                        </div>

                        <!-- 分页 -->
                        <div class="pagination" id="sensitive-word-pagination">
                            <!-- 分页将通过 JavaScript 动态生成 -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 头像审核配置 -->
            <div class="page-content" id="page-avatar-check-config">
                <div class="page-header">
                    <h1>头像审核配置</h1>
                    <p>配置头像审核规则</p>
                </div>
                
                <!-- 配置表单 -->
                <div class="card">
                    <div class="card-header">
                        <h3>基础配置</h3>
                    </div>
                    <div class="card-body" style="padding: 30px;">
                        <form id="avatar-check-config-form">
                            <div class="form-row">
                                <div class="form-group" style="margin-top: 0;">
                                    <label>
                                        <input type="checkbox" id="avatar-is-enabled" style="width: 18px; height: 18px; margin-right: 8px; vertical-align: middle;">
                                        启用头像审核
                                    </label>
                                    <small style="display: block; margin-top: 6px; color: #666;">
                                        启用后，用户上传的头像需要经过审核才能生效
                                    </small>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="avatar-check-type">审核方式 <span class="required">*</span></label>
                                    <select id="avatar-check-type" required>
                                        <option value="manual">人工审核</option>
                                        <option value="tencent">腾讯云内容审核</option>
                                        <option value="aliyun">阿里云内容审核</option>
                                    </select>
                                    <small style="display: block; margin-top: 6px; color: #666;">
                                        选择审核方式：人工审核需要管理员手动审核，第三方审核会自动调用API进行审核
                                    </small>
                                </div>
                            </div>
                            
                            <!-- 第三方审核配置（默认隐藏） -->
                            <div id="third-party-config" style="display: none;">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="avatar-api-key">API密钥 <span class="required">*</span></label>
                                        <input type="text" id="avatar-api-key" placeholder="腾讯云SecretId或阿里云AccessKeyId">
                                        <small style="display: block; margin-top: 6px; color: #666;">
                                            腾讯云：SecretId，阿里云：AccessKeyId
                                        </small>
                                    </div>
                                    <div class="form-group">
                                        <label for="avatar-api-secret">API密钥 <span class="required">*</span></label>
                                        <input type="password" id="avatar-api-secret" placeholder="腾讯云SecretKey或阿里云AccessKeySecret">
                                        <small style="display: block; margin-top: 6px; color: #666;">
                                            腾讯云：SecretKey，阿里云：AccessKeySecret
                                        </small>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="avatar-region">服务区域</label>
                                        <input type="text" id="avatar-region" placeholder="如：ap-guangzhou、cn-shanghai">
                                        <small style="display: block; margin-top: 6px; color: #666;">
                                            腾讯云示例：ap-guangzhou、ap-shanghai，阿里云示例：cn-shanghai、cn-beijing
                                        </small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="btn-primary" onclick="saveAvatarCheckConfig()">
                                    <i class="fas fa-save"></i> 保存配置
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- 说明信息 -->
                <div class="card">
                    <div class="card-header">
                        <h3>说明</h3>
                    </div>
                    <div class="card-body">
                        <div style="padding: 20px; background: #f8f9fa; border-radius: 6px;">
                            <h4 style="margin-top: 0; color: #333;">审核方式说明</h4>
                            <ul style="line-height: 1.8; color: #666;">
                                <li><strong>人工审核：</strong>用户上传头像后，需要管理员在"头像审核"页面手动审核</li>
                                <li><strong>腾讯云内容审核：</strong>自动调用腾讯云图片内容审核API，识别违规内容</li>
                                <li><strong>阿里云内容审核：</strong>自动调用阿里云图片内容审核API，识别违规内容</li>
                            </ul>
                            
                            <h4 style="margin-top: 20px; color: #333;">第三方审核配置</h4>
                            <ul style="line-height: 1.8; color: #666;">
                                <li>使用第三方审核需要先在对应平台开通服务并获取API密钥</li>
                                <li>腾讯云内容审核：<a href="https://cloud.tencent.com/product/ims" target="_blank">https://cloud.tencent.com/product/ims</a></li>
                                <li>阿里云内容审核：<a href="https://www.aliyun.com/product/lvwang" target="_blank">https://www.aliyun.com/product/lvwang</a></li>
                                <li>第三方审核会产生费用，请根据实际需求选择</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 存储策略配置 -->
            <div class="page-content" id="page-storage-config">
                <div class="page-header">
                    <h1>存储策略配置</h1>
                    <p>配置文件存储策略</p>
                </div>

                <!-- 配置列表 -->
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <!-- 加载中 -->
                        <div id="storage-config-list-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="storage-config-list-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无存储配置</p>
                        </div>

                        <!-- 配置表格 -->
                        <div id="storage-config-list-table" style="display: none;">
                            <div class="table-scroll-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>配置名称</th>
                                            <th>用途类型</th>
                                            <th>存储类型</th>
                                            <th>状态</th>
                                            <th>最大文件大小</th>
                                            <th>允许的扩展名</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="storage-config-list-tbody">
                                        <!-- 数据将通过 JavaScript 动态填充 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 权限配置 -->
            <div class="page-content" id="page-permission-config">
                <div class="page-header">
                    <h1>权限配置</h1>
                    <p>配置系统权限</p>
                </div>
                <div class="card">
                    <div class="card-body">
                        <p class="text-muted">功能开发中...</p>
                    </div>
                </div>
            </div>

            <!-- 昵称审核 -->
            <div class="page-content" id="page-nickname-review">
                <div class="page-header">
                    <h1>昵称审核</h1>
                    <p>审核用户提交的昵称修改申请</p>
                </div>
                
                <!-- 筛选条件 -->
                <div class="card">
                    <div class="card-body" style="padding: 20px;">
                        <div class="search-filter-bar">
                            <div class="filter-box">
                                <label style="margin-right: 10px; font-weight: 500;">审核状态：</label>
                                <select id="nickname-status-filter" class="filter-select">
                                    <option value="">全部</option>
                                    <option value="0" selected>待审核</option>
                                    <option value="1">已通过</option>
                                    <option value="2">已拒绝</option>
                                </select>
                                <button class="btn-search" onclick="loadNicknameCheckList()">
                                    <i class="fas fa-search"></i> 查询
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 审核列表 -->
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <div class="table-scroll-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>用户</th>
                                        <th>原昵称</th>
                                        <th>新昵称</th>
                                        <th>申请时间</th>
                                        <th>申请理由</th>
                                        <th>敏感词</th>
                                        <th>状态</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="nickname-check-list">
                                    <tr>
                                        <td colspan="8" class="text-center">
                                            <i class="fas fa-spinner fa-spin"></i> 加载中...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 分页 -->
                        <div class="pagination-container" id="nickname-pagination"></div>
                    </div>
                </div>
            </div>

            <!-- 头像审核 -->
            <div class="page-content" id="page-avatar-review">
                <div class="page-header">
                    <h1>头像审核</h1>
                    <p>审核用户上传的头像</p>
                </div>
                
                <!-- 筛选条件 -->
                <div class="card">
                    <div class="card-body" style="padding: 20px;">
                        <div class="search-filter-bar">
                            <div class="filter-box">
                                <label style="margin-right: 10px; font-weight: 500;">审核状态：</label>
                                <select id="avatar-status-filter" class="filter-select">
                                    <option value="">全部</option>
                                    <option value="0" selected>待审核</option>
                                    <option value="1">已通过</option>
                                    <option value="2">已拒绝</option>
                                </select>
                                <button class="btn-search" onclick="loadAvatarCheckList()">
                                    <i class="fas fa-search"></i> 查询
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 审核列表 -->
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <div class="table-scroll-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>用户</th>
                                        <th>新头像</th>
                                        <th>提交时间</th>
                                        <th>审核方式</th>
                                        <th>状态</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="avatar-check-list">
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <i class="fas fa-spinner fa-spin"></i> 加载中...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 分页 -->
                        <div class="pagination-container" id="avatar-pagination"></div>
                    </div>
                </div>
            </div>

            <!-- 授权登录应用 -->
            <!-- 授权登录应用 -->
            <div class="page-content" id="page-oauth-apps">
                <div class="page-header">
                    <h1>授权登录应用</h1>
                    <p>管理接入的授权登录应用</p>
                </div>

                <!-- 搜索和操作栏 -->
                <div class="card">
                    <div class="card-body">
                        <div class="toolbar">
                            <div class="toolbar-left">
                                <div class="search-box">
                                    <i class="fas fa-search"></i>
                                    <input 
                                        id="oauth-app-search" 
                                        type="search"
                                        role="search"
                                        placeholder="搜索应用名称或应用ID" 
                                        autocomplete="new-password"
                                        autocorrect="off" 
                                        autocapitalize="off" 
                                        spellcheck="false"
                                        data-form="search-only"
                                        data-lpignore="true"
                                        data-1p-ignore="true"
                                        data-form-type="other"
                                    >
                                </div>
                                <select id="oauth-app-status-filter" class="form-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">封禁</option>
                                    <option value="2">待审核</option>
                                </select>
                            </div>
                            <div class="toolbar-right">
                                <button class="btn btn-primary" id="btn-create-oauth-app">
                                    <i class="fas fa-plus"></i> 创建应用
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 应用列表 -->
                <div class="card">
                    <div class="card-body">
                        <div id="oauth-apps-loading" class="loading-state">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载中...</p>
                        </div>
                        <div id="oauth-apps-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-inbox"></i>
                            <p>暂无应用</p>
                        </div>
                        <div id="oauth-apps-list" class="apps-grid" style="display: none;"></div>
                    </div>
                </div>

                <!-- 分页 -->
                <div class="pagination-container" id="oauth-apps-pagination" style="display: none;">
                    <div class="pagination-info">
                        共 <span id="oauth-apps-total">0</span> 个应用
                    </div>
                    <div class="pagination" id="oauth-apps-pages"></div>
                </div>
            </div>

            <!-- 用户中心应用 -->
            <div class="page-content" id="page-user-center-apps">
                <div class="page-header">
                    <h1>用户中心应用配置</h1>
                    <p>配置用户登录后的默认跳转应用</p>
                </div>

                <!-- 当前配置卡片 -->
                <div class="card">
                    <div class="card-body">
                        <h3 style="margin-bottom: 20px; color: #1565c0; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-cog"></i>
                            当前默认应用
                        </h3>

                        <!-- 加载中 -->
                        <div id="user-center-config-loading" class="loading-container">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载中...</p>
                        </div>

                        <!-- 未配置状态 -->
                        <div id="user-center-config-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-exclamation-circle"></i>
                            <h3>未设置默认应用</h3>
                            <p>请在"授权登录应用"页面中选择一个应用设为默认</p>
                            <button class="btn-primary" onclick="window.location.hash='oauth-apps'" style="margin-top: 20px;">
                                <i class="fas fa-arrow-right"></i> 前往设置
                            </button>
                        </div>

                        <!-- 配置信息 -->
                        <div id="user-center-config-info" style="display: none;">
                            <div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-radius: 12px; padding: 24px; margin-bottom: 24px;">
                                <div style="display: flex; align-items: center; gap: 20px;">
                                    <div id="user-center-app-icon" style="width: 80px; height: 80px; border-radius: 12px; background: #fff; display: flex; align-items: center; justify-content: center; font-size: 36px; color: #1976d2; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                        <i class="fas fa-cube"></i>
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                                            <h2 id="user-center-app-name" style="margin: 0; color: #1565c0; font-size: 24px;">-</h2>
                                            <span class="badge-default">
                                                <i class="fas fa-star"></i> 默认应用
                                            </span>
                                        </div>
                                        <p id="user-center-app-id" style="margin: 0; color: #666; font-size: 14px;">应用ID: -</p>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4 style="margin-bottom: 16px; color: #1565c0;">
                                    <i class="fas fa-info-circle"></i> 应用信息
                                </h4>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>网站地址</label>
                                        <input type="text" id="user-center-site-url" readonly style="background: #f5f5f5;">
                                    </div>
                                    <div class="form-group">
                                        <label>协议</label>
                                        <input type="text" id="user-center-site-protocol" readonly style="background: #f5f5f5;">
                                    </div>
                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <label>回调地址</label>
                                        <input type="text" id="user-center-callback-url" readonly style="background: #f5f5f5;">
                                    </div>
                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <label>所需权限</label>
                                        <input type="text" id="user-center-permissions" readonly style="background: #f5f5f5;">
                                    </div>
                                </div>
                            </div>

                            <div style="margin-top: 24px; padding: 16px; background: #fff3e0; border-left: 4px solid #ff9800; border-radius: 8px;">
                                <div style="display: flex; align-items: start; gap: 12px;">
                                    <i class="fas fa-info-circle" style="color: #ff9800; font-size: 20px; margin-top: 2px;"></i>
                                    <div>
                                        <strong style="color: #e65100;">说明</strong>
                                        <p style="margin: 8px 0 0 0; color: #666; font-size: 14px; line-height: 1.6;">
                                            用户登录后将自动跳转到此应用。如需更改默认应用，请前往"授权登录应用"页面进行设置。
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div style="margin-top: 24px; display: flex; gap: 12px; justify-content: flex-end;">
                                <button class="btn-secondary" onclick="openChangeDefaultAppModal()">
                                    <i class="fas fa-exchange-alt"></i> 更改默认应用
                                </button>
                                <button class="btn-primary" onclick="refreshUserCenterConfig()">
                                    <i class="fas fa-sync-alt"></i> 刷新配置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 系统日志 -->
            <div class="page-content" id="page-system-logs">
                <div class="page-header">
                    <h1>系统日志</h1>
                    <p>查看系统运行日志和错误记录</p>
                </div>

                <!-- 统计卡片 -->
                <div class="stats-grid" style="margin-bottom: 20px;">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-list"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="system-log-total">-</div>
                            <div class="stat-label">总日志数</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="system-log-error">-</div>
                            <div class="stat-label">错误日志</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="system-log-warning">-</div>
                            <div class="stat-label">警告日志</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="system-log-info">-</div>
                            <div class="stat-label">信息日志</div>
                        </div>
                    </div>
                </div>

                <!-- 筛选条件 -->
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-body">
                        <div class="filter-bar" style="display: flex; flex-wrap: wrap; gap: 15px; align-items: flex-end;">
                            <div class="filter-group">
                                <label>日期范围：</label>
                                <input type="date" id="system-log-start-date" class="form-control" style="width: 150px;">
                                <span style="margin: 0 5px;">至</span>
                                <input type="date" id="system-log-end-date" class="form-control" style="width: 150px;">
                            </div>

                            <div class="filter-group">
                                <label>日志级别：</label>
                                <select id="system-log-level" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="debug">调试</option>
                                    <option value="info">信息</option>
                                    <option value="warning">警告</option>
                                    <option value="error">错误</option>
                                    <option value="critical">严重</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>日志类型：</label>
                                <select id="system-log-type" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="system">系统</option>
                                    <option value="security">安全</option>
                                    <option value="operation">操作</option>
                                    <option value="api">API</option>
                                    <option value="database">数据库</option>
                                    <option value="email">邮件</option>
                                    <option value="sms">短信</option>
                                    <option value="captcha">人机验证</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>关键词：</label>
                                <input type="text" id="system-log-keyword" class="form-control" placeholder="搜索消息或用户名" style="width: 200px;">
                            </div>

                            <button class="btn btn-primary" onclick="loadSystemLogs()">
                                <i class="fas fa-search"></i> 查询
                            </button>

                            <button class="btn btn-secondary" onclick="resetSystemLogFilters()">
                                <i class="fas fa-redo"></i> 重置
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 日志列表 -->
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>级别</th>
                                        <th>类型</th>
                                        <th>模块</th>
                                        <th>消息</th>
                                        <th>用户</th>
                                        <th>IP地址</th>
                                        <th>时间</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="system-log-list-tbody">
                                    <!-- 数据将通过 JavaScript 动态填充 -->
                                </tbody>
                            </table>
                        </div>

                        <!-- 分页 -->
                        <div class="pagination-container" id="system-log-pagination">
                            <!-- 分页将通过 JavaScript 动态生成 -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 短信发送日志 -->
            <div class="page-content" id="page-sms-logs">
                <div class="page-header">
                    <h1>短信发送日志</h1>
                    <p>查看短信发送记录和统计信息</p>
                </div>

                <!-- 统计卡片 -->
                <div class="stats-grid" style="margin-bottom: 20px;">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-sms"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="sms-log-total">-</div>
                            <div class="stat-label">总发送量</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="sms-log-used">-</div>
                            <div class="stat-label">已使用</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="sms-log-valid">-</div>
                            <div class="stat-label">有效</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
                            <i class="fas fa-hourglass-end"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="sms-log-expired">-</div>
                            <div class="stat-label">已过期</div>
                        </div>
                    </div>
                </div>

                <!-- 筛选和列表 -->
                <div class="card">
                    <div class="card-header">
                        <h3>短信日志</h3>
                    </div>
                    <div class="card-body">
                        <!-- 筛选条件 -->
                        <div class="filter-bar" style="margin-bottom: 20px;">
                            <div class="filter-group">
                                <label>日期范围：</label>
                                <input type="date" id="sms-log-start-date" class="form-control" style="width: 150px;">
                                <span style="margin: 0 5px;">至</span>
                                <input type="date" id="sms-log-end-date" class="form-control" style="width: 150px;">
                            </div>

                            <div class="filter-group">
                                <label>短信用途：</label>
                                <select id="sms-log-purpose" class="form-control" style="width: 150px;">
                                    <option value="">全部</option>
                                    <option value="register">注册</option>
                                    <option value="login">登录</option>
                                    <option value="reset_password">重置密码</option>
                                    <option value="bind_phone">绑定手机</option>
                                    <option value="change_phone">更换手机</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>状态：</label>
                                <select id="sms-log-status" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="0">已使用</option>
                                    <option value="1">有效</option>
                                    <option value="2">已过期</option>
                                    <option value="3">一次核验成功</option>
                                    <option value="4">二次核验成功</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>渠道：</label>
                                <select id="sms-log-channel" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="aliyun">阿里云</option>
                                    <option value="tencent">腾讯云</option>
                                    <option value="321cn">321短信</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>手机号：</label>
                                <input type="text" id="sms-log-phone" class="form-control" placeholder="输入手机号" style="width: 150px;">
                            </div>

                            <div class="filter-group">
                                <label>关键词：</label>
                                <input type="text" id="sms-log-keyword" class="form-control" placeholder="短信ID/上游ID" style="width: 150px;">
                            </div>

                            <div class="filter-group">
                                <button id="btn-sms-log-search" class="btn btn-primary">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                                <button id="btn-reset-sms-log-filter" class="btn btn-secondary">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>

                        <!-- 加载中状态 -->
                        <div id="sms-log-list-loading" style="display: none; width: 100%;">
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 20px; width: 100%;">
                                <div class="spinner"></div>
                                <p style="margin-top: 20px; color: #999;">加载中...</p>
                            </div>
                        </div>

                        <!-- 错误状态 -->
                        <div id="sms-log-list-error" style="display: none; width: 100%;">
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 20px; width: 100%;">
                                <i class="fas fa-exclamation-triangle" style="font-size: 64px; color: #f5576c; margin-bottom: 20px;"></i>
                                <p style="font-size: 16px; color: #999; margin: 0;">加载失败</p>
                                <p id="sms-log-error-message" style="font-size: 14px; color: #bbb; margin-top: 10px;"></p>
                            </div>
                        </div>

                        <!-- 空数据状态 -->
                        <div id="sms-log-list-empty" style="display: none; width: 100%;">
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 20px; width: 100%;">
                                <i class="fas fa-inbox" style="font-size: 64px; color: #ccc; margin-bottom: 20px;"></i>
                                <p style="font-size: 16px; color: #999; margin: 0;">暂无短信日志</p>
                                <p style="font-size: 14px; color: #bbb; margin-top: 10px;">请调整筛选条件后重试</p>
                            </div>
                        </div>

                        <!-- 日志列表 -->
                        <div id="sms-log-list-table" style="display: none;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>手机号</th>
                                        <th>用途</th>
                                        <th>渠道</th>
                                        <th>状态</th>
                                        <th>核验次数</th>
                                        <th>发送时间</th>
                                        <th>过期时间</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="sms-log-list-tbody">
                                    <!-- 动态填充 -->
                                </tbody>
                            </table>

                            <!-- 分页 -->
                            <div id="sms-log-pagination" class="pagination"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 邮件发送日志 -->
            <div class="page-content" id="page-email-logs">
                <div class="page-header">
                    <h1>邮件发送日志</h1>
                    <p>查看邮件发送记录和统计信息</p>
                </div>

                <!-- 统计卡片 -->
                <div class="stats-grid" style="margin-bottom: 20px;">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="email-log-total">-</div>
                            <div class="stat-label">总发送量</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="email-log-used">-</div>
                            <div class="stat-label">已使用</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="email-log-valid">-</div>
                            <div class="stat-label">有效</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
                            <i class="fas fa-hourglass-end"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="email-log-expired">-</div>
                            <div class="stat-label">已过期</div>
                        </div>
                    </div>
                </div>

                <!-- 筛选和列表 -->
                <div class="card">
                    <div class="card-header">
                        <h3>邮件日志</h3>
                    </div>
                    <div class="card-body">
                        <!-- 筛选条件 -->
                        <div class="filter-bar" style="margin-bottom: 20px;">
                            <div class="filter-group">
                                <label>日期范围：</label>
                                <input type="date" id="email-log-start-date" class="form-control" style="width: 150px;">
                                <span style="margin: 0 5px;">至</span>
                                <input type="date" id="email-log-end-date" class="form-control" style="width: 150px;">
                            </div>

                            <div class="filter-group">
                                <label>邮件用途：</label>
                                <select id="email-log-purpose" class="form-control" style="width: 150px;">
                                    <option value="">全部</option>
                                    <option value="register">注册</option>
                                    <option value="login">登录</option>
                                    <option value="reset_password">重置密码</option>
                                    <option value="bind_email">绑定邮箱</option>
                                    <option value="change_email">更换邮箱</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>状态：</label>
                                <select id="email-log-status" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="0">已使用</option>
                                    <option value="1">有效</option>
                                    <option value="2">已过期</option>
                                    <option value="3">一次核验成功</option>
                                    <option value="4">二次核验成功</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>渠道：</label>
                                <select id="email-log-channel" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="system">系统</option>
                                    <option value="smtp">SMTP</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>邮箱：</label>
                                <input type="text" id="email-log-email" class="form-control" placeholder="输入邮箱" style="width: 180px;">
                            </div>

                            <div class="filter-group">
                                <label>关键词：</label>
                                <input type="text" id="email-log-keyword" class="form-control" placeholder="验证码ID" style="width: 150px;">
                            </div>

                            <div class="filter-group">
                                <button id="btn-email-log-search" class="btn btn-primary">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                                <button id="btn-reset-email-log-filter" class="btn btn-secondary">
                                    <i class="fas fa-redo"></i> 重置
                                </button>
                            </div>
                        </div>

                        <!-- 加载中状态 -->
                        <div id="email-log-list-loading" style="display: none; width: 100%;">
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 20px; width: 100%;">
                                <div class="spinner"></div>
                                <p style="margin-top: 20px; color: #999;">加载中...</p>
                            </div>
                        </div>

                        <!-- 错误状态 -->
                        <div id="email-log-list-error" style="display: none; width: 100%;">
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 20px; width: 100%;">
                                <i class="fas fa-exclamation-triangle" style="font-size: 64px; color: #f5576c; margin-bottom: 20px;"></i>
                                <p style="font-size: 16px; color: #999; margin: 0;">加载失败</p>
                                <p id="email-log-error-message" style="font-size: 14px; color: #bbb; margin-top: 10px;"></p>
                            </div>
                        </div>

                        <!-- 空数据状态 -->
                        <div id="email-log-list-empty" style="display: none; width: 100%;">
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 20px; width: 100%;">
                                <i class="fas fa-inbox" style="font-size: 64px; color: #ccc; margin-bottom: 20px;"></i>
                                <p style="font-size: 16px; color: #999; margin: 0;">暂无邮件日志</p>
                                <p style="font-size: 14px; color: #bbb; margin-top: 10px;">请调整筛选条件后重试</p>
                            </div>
                        </div>

                        <!-- 日志列表 -->
                        <div id="email-log-list-table" style="display: none;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>邮箱</th>
                                        <th>用途</th>
                                        <th>渠道</th>
                                        <th>状态</th>
                                        <th>核验次数</th>
                                        <th>发送时间</th>
                                        <th>过期时间</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="email-log-list-tbody">
                                    <!-- 动态填充 -->
                                </tbody>
                            </table>

                            <!-- 分页 -->
                            <div id="email-log-pagination" class="pagination"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 人机验证日志 -->
            <div class="page-content" id="page-captcha-logs">
                <div class="page-header">
                    <h1>人机验证日志</h1>
                    <p>查看人机验证记录和统计信息</p>
                </div>

                <!-- 统计卡片 -->
                <div class="stats-grid" style="margin-bottom: 20px;">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="captcha-log-total">-</div>
                            <div class="stat-label">总验证次数</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="captcha-log-success">-</div>
                            <div class="stat-label">验证成功</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="captcha-log-fail">-</div>
                            <div class="stat-label">验证失败</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="captcha-log-rate">-</div>
                            <div class="stat-label">成功率</div>
                        </div>
                    </div>
                </div>

                <!-- 筛选和列表 -->
                <div class="card">
                    <div class="card-header">
                        <h3>验证日志</h3>
                    </div>
                    <div class="card-body">
                        <!-- 筛选条件 -->
                        <div class="filter-bar" style="margin-bottom: 20px;">
                            <div class="filter-group">
                                <label>日期范围：</label>
                                <input type="date" id="captcha-log-start-date" class="form-control" style="width: 150px;">
                                <span style="margin: 0 5px;">至</span>
                                <input type="date" id="captcha-log-end-date" class="form-control" style="width: 150px;">
                            </div>

                            <div class="filter-group">
                                <label>验证场景：</label>
                                <select id="captcha-log-scene" class="form-control" style="width: 150px;">
                                    <option value="">全部</option>
                                    <option value="register">注册</option>
                                    <option value="login">登录</option>
                                    <option value="reset_password">重置密码</option>
                                    <option value="send_sms">发送短信</option>
                                    <option value="send_email">发送邮件</option>
                                    <option value="change_password">修改密码</option>
                                    <option value="bind_phone">绑定手机</option>
                                    <option value="bind_email">绑定邮箱</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>验证结果：</label>
                                <select id="captcha-log-success-filter" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="1">成功</option>
                                    <option value="0">失败</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>服务商：</label>
                                <select id="captcha-log-provider" class="form-control" style="width: 120px;">
                                    <option value="">全部</option>
                                    <option value="geetest">极验</option>
                                    <option value="recaptcha">reCAPTCHA</option>
                                    <option value="hcaptcha">hCaptcha</option>
                                </select>
                            </div>

                            <div class="filter-group">
                                <label>IP地址：</label>
                                <input type="text" id="captcha-log-ip" class="form-control" placeholder="输入IP地址" style="width: 150px;">
                            </div>

                            <button class="btn btn-primary" onclick="loadCaptchaLogs()">
                                <i class="fas fa-search"></i> 查询
                            </button>

                            <button class="btn btn-secondary" onclick="resetCaptchaLogFilters()">
                                <i class="fas fa-redo"></i> 重置
                            </button>
                        </div>

                        <!-- 场景分布 -->
                        <div id="captcha-scene-distribution" style="margin-bottom: 20px; display: none;">
                            <h4 style="margin-bottom: 10px;">场景分布</h4>
                            <div id="captcha-scene-chart" style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <!-- 场景统计将通过 JavaScript 动态填充 -->
                            </div>
                        </div>

                        <!-- 日志列表 -->
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>验证场景</th>
                                        <th>服务商</th>
                                        <th>验证结果</th>
                                        <th>IP地址</th>
                                        <th>联系方式</th>
                                        <th>验证时间</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="captcha-log-list-tbody">
                                    <!-- 数据将通过 JavaScript 动态填充 -->
                                </tbody>
                            </table>
                        </div>

                        <!-- 分页 -->
                        <div class="pagination" id="captcha-log-pagination">
                            <!-- 分页将通过 JavaScript 动态生成 -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 登录日志 -->
            <div class="page-content" id="page-login-logs">
                <div class="page-header">
                    <h1>登录日志</h1>
                    <p>查看用户登录记录</p>
                </div>

                <!-- 搜索和筛选 -->
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-body" style="padding: 20px;">
                        <div class="search-filter-bar">
                            <div class="search-box">
                                <input type="text" id="login-logs-search" placeholder="搜索用户名、IP地址..." class="search-input">
                                <button class="btn-search" id="btn-login-logs-search">
                                    <i class="fas fa-search"></i>
                                    搜索
                                </button>
                            </div>
                            <div class="filter-box">
                                <select id="filter-login-method" class="filter-select">
                                    <option value="">全部登录方式</option>
                                    <option value="password">密码登录</option>
                                    <option value="sms">短信验证码</option>
                                    <option value="email">邮箱验证码</option>
                                    <option value="wechat">微信登录</option>
                                    <option value="qq">QQ登录</option>
                                    <option value="google">Google登录</option>
                                </select>
                                <select id="filter-token-status" class="filter-select">
                                    <option value="">全部状态</option>
                                    <option value="1">正常</option>
                                    <option value="0">已使用</option>
                                    <option value="2">已过期</option>
                                    <option value="3">已关闭</option>
                                </select>
                                <input type="date" id="filter-login-date" class="filter-select" placeholder="登录日期">
                                <button class="btn-reset" id="btn-reset-login-logs-filter">
                                    <i class="fas fa-redo"></i>
                                    重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 登录日志列表 -->
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <!-- 加载中 -->
                        <div id="login-logs-loading" class="loading-container">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载中...</p>
                        </div>

                        <!-- 空状态 -->
                        <div id="login-logs-empty" class="empty-state" style="display: none;">
                            <i class="fas fa-sign-in-alt"></i>
                            <h3>暂无登录日志</h3>
                            <p>系统中还没有登录记录</p>
                        </div>

                        <!-- 登录日志表格 -->
                        <div id="login-logs-table" style="display: none;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>用户</th>
                                        <th>应用ID</th>
                                        <th>登录方式</th>
                                        <th>登录IP</th>
                                        <th>登录时间</th>
                                        <th>Token状态</th>
                                        <th>过期时间</th>
                                        <th>使用时间</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="login-logs-tbody">
                                    <!-- 登录日志数据将通过 JavaScript 动态生成 -->
                                </tbody>
                            </table>

                            <!-- 分页 -->
                            <div class="pagination-container" id="login-logs-pagination">
                                <!-- 分页将通过 JavaScript 动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast 容器 -->
    <div id="toast-container" class="toast-container"></div>

    <!-- 确认弹窗 -->
    <div id="confirm-modal" class="modal-overlay">
        <div class="modal-content confirm-modal">
            <div class="modal-header">
                <div class="modal-icon warning">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 id="confirm-title">确认操作</h3>
            </div>
            <div class="modal-body">
                <p id="confirm-message">确定要执行此操作吗？</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="confirm-cancel">取消</button>
                <button class="btn-confirm btn-danger" id="confirm-ok">确定</button>
            </div>
        </div>
    </div>

    <!-- 用户详情弹出框 -->
    <div id="user-detail-modal" class="modal-overlay">
        <div class="modal-content user-detail-modal">
            <div class="modal-header">
                <h3>用户详情</h3>
                <button class="modal-close" onclick="closeUserDetailModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- 加载中 -->
                <div id="user-detail-loading" class="loading-container" style="padding: 40px;">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>加载中...</p>
                </div>

                <!-- 用户详情内容 -->
                <div id="user-detail-content" style="display: none;">
                    <!-- 用户头像和基本信息 -->
                    <div class="user-detail-header">
                        <img src="" alt="头像" class="user-detail-avatar" id="detail-avatar">
                        <div class="user-detail-info">
                            <h2 id="detail-nickname">用户昵称</h2>
                            <p class="detail-username">@<span id="detail-username">username</span></p>
                            <div class="detail-badges">
                                <span class="user-type-badge" id="detail-type-badge">普通用户</span>
                                <span class="user-status-badge" id="detail-status-badge">正常</span>
                            </div>
                        </div>
                    </div>

                    <!-- 详细信息表单 -->
                    <div class="user-detail-form">
                        <div class="form-section">
                            <h4><i class="fas fa-user"></i> 基本信息</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>UUID</label>
                                    <input type="text" id="detail-uuid" readonly>
                                </div>
                                <div class="form-group">
                                    <label>用户名</label>
                                    <input type="text" id="detail-username-input" readonly>
                                </div>
                                <div class="form-group">
                                    <label>昵称</label>
                                    <input type="text" id="detail-nickname-input" class="editable">
                                </div>
                                <div class="form-group">
                                    <label>用户类型</label>
                                    <select id="detail-user-type" class="editable">
                                        <option value="user">普通用户</option>
                                        <option value="admin">管理员</option>
                                        <option value="siteadmin">站点管理员</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4><i class="fas fa-address-book"></i> 联系方式</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>手机号</label>
                                    <input type="text" id="detail-phone" class="editable" placeholder="未绑定">
                                </div>
                                <div class="form-group">
                                    <label>邮箱</label>
                                    <input type="email" id="detail-email" class="editable" placeholder="未绑定">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4><i class="fas fa-user-circle"></i> 个人资料</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>性别</label>
                                    <select id="detail-gender" class="editable">
                                        <option value="">未设置</option>
                                        <option value="male">男</option>
                                        <option value="female">女</option>
                                        <option value="other">其他</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>生日</label>
                                    <input type="date" id="detail-birth-date" class="editable">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4><i class="fas fa-shield-alt"></i> 账户状态</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>状态</label>
                                    <select id="detail-status" class="editable">
                                        <option value="1">正常</option>
                                        <option value="0">已封禁</option>
                                        <option value="2">手机号待核验</option>
                                        <option value="3">邮箱待核验</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>授权应用数</label>
                                    <input type="text" id="detail-authorized-count" readonly>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4><i class="fas fa-info-circle"></i> 注册信息</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>注册时间</label>
                                    <input type="text" id="detail-created-at" readonly>
                                </div>
                                <div class="form-group">
                                    <label>注册IP</label>
                                    <input type="text" id="detail-register-ip" readonly>
                                </div>
                                <div class="form-group">
                                    <label>最后登录</label>
                                    <input type="text" id="detail-last-login" readonly>
                                </div>
                                <div class="form-group">
                                    <label>登录IP</label>
                                    <input type="text" id="detail-last-ip" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeUserDetailModal()">关闭</button>
                <button class="btn-confirm" id="btn-save-user" onclick="saveUserChanges()">
                    <i class="fas fa-save"></i> 保存修改
                </button>
            </div>
        </div>
    </div>

    <!-- 邮件配置弹出框 -->
    <div id="email-config-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="email-config-modal-title">新增邮件配置</h2>
                <button class="modal-close" onclick="closeEmailConfigModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="email-config-form">
                    <input type="hidden" id="email-config-id" value="">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-config-name">配置名称 <span class="required">*</span></label>
                            <input type="text" id="email-config-name" placeholder="例如：QQ邮箱-注册验证" required>
                        </div>
                        <div class="form-group">
                            <label for="email-config-priority">优先级 <span class="required">*</span></label>
                            <input type="number" id="email-config-priority" value="100" min="1" required>
                            <small>数字越小优先级越高</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-config-email">发件邮箱 <span class="required">*</span></label>
                            <input type="email" id="email-config-email" placeholder="noreply@example.com" required>
                        </div>
                        <div class="form-group">
                            <label for="email-config-sender-name">发件人名称 <span class="required">*</span></label>
                            <input type="text" id="email-config-sender-name" placeholder="一碗小米周授权平台" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-config-username">SMTP用户名 <span class="required">*</span></label>
                            <input type="text" id="email-config-username" placeholder="通常与发件邮箱相同" required>
                        </div>
                        <div class="form-group">
                            <label for="email-config-password">SMTP密码/授权码 <span class="required">*</span></label>
                            <input type="password" id="email-config-password" placeholder="邮箱密码或授权码" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-config-smtp-host">SMTP服务器 <span class="required">*</span></label>
                            <input type="text" id="email-config-smtp-host" placeholder="smtp.qq.com" required>
                        </div>
                        <div class="form-group">
                            <label for="email-config-smtp-port">SMTP端口 <span class="required">*</span></label>
                            <input type="number" id="email-config-smtp-port" value="465" min="1" max="65535" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-config-encryption">加密方式 <span class="required">*</span></label>
                            <select id="email-config-encryption" required>
                                <option value="ssl">SSL</option>
                                <option value="tls">TLS</option>
                                <option value="none">不加密</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="email-config-daily-limit">每日发送限制</label>
                            <input type="number" id="email-config-daily-limit" value="1000" min="1">
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="email-config-reply-to">回复地址</label>
                        <input type="email" id="email-config-reply-to" placeholder="support@example.com">
                    </div>

                    <div class="form-group full-width">
                        <label>适用场景 <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="email-config-scenes" value="register"> 注册
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="email-config-scenes" value="login"> 登录
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="email-config-scenes" value="reset_password"> 重置密码
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="email-config-scenes" value="security_alert"> 安全警报
                            </label>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-config-status">状态</label>
                            <select id="email-config-status">
                                <option value="1">正常</option>
                                <option value="0">禁用</option>
                                <option value="2">维护中</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="email-config-is-enabled">是否启用</label>
                            <select id="email-config-is-enabled">
                                <option value="1">启用</option>
                                <option value="0">不启用</option>
                            </select>
                        </div>
                    </div>

                    <!-- 邮件签名配置 -->
                    <div class="form-group full-width">
                        <label for="email-config-enable-signature">是否启用邮件签名</label>
                        <select id="email-config-enable-signature">
                            <option value="0">不启用</option>
                            <option value="1">启用</option>
                        </select>
                        <small>启用后将使用 S/MIME 对邮件进行数字签名</small>
                    </div>

                    <div id="signature-fields" style="display: none;">
                        <div class="form-group full-width">
                            <label for="email-config-signature-cert">签名证书 (PEM格式)</label>
                            <textarea id="email-config-signature-cert" rows="6" placeholder="-----BEGIN CERTIFICATE-----&#10;证书内容...&#10;-----END CERTIFICATE-----"></textarea>
                            <small>请粘贴完整的 PEM 格式证书内容</small>
                        </div>

                        <div class="form-group full-width">
                            <label for="email-config-signature-key">签名私钥 (PEM格式)</label>
                            <textarea id="email-config-signature-key" rows="6" placeholder="-----BEGIN PRIVATE KEY-----&#10;私钥内容...&#10;-----END PRIVATE KEY-----"></textarea>
                            <small>请粘贴完整的 PEM 格式私钥内容，私钥将加密存储</small>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="email-config-description">备注说明</label>
                        <textarea id="email-config-description" rows="3" placeholder="配置说明..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeEmailConfigModal()">取消</button>
                <button class="btn-primary" id="btn-save-email-config">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 邮件模板弹出框 -->
    <div id="email-template-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 1200px;">
            <div class="modal-header">
                <h2 id="email-template-modal-title">新增邮件模板</h2>
                <button class="modal-close" onclick="closeEmailTemplateModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="email-template-form">
                    <input type="hidden" id="email-template-id" value="">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-template-code">模板标识 <span class="required">*</span></label>
                            <input type="text" id="email-template-code" placeholder="例如：REGISTER_CODE" required>
                            <small>唯一标识，建议使用大写字母和下划线</small>
                        </div>
                        <div class="form-group">
                            <label for="email-template-name">模板名称 <span class="required">*</span></label>
                            <input type="text" id="email-template-name" placeholder="例如：注册验证码邮件" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-template-scene">适用场景 <span class="required">*</span></label>
                            <select id="email-template-scene" required>
                                <option value="">请选择场景</option>
                                <option value="register">注册</option>
                                <option value="login">登录</option>
                                <option value="reset_password">重置密码</option>
                                <option value="security_alert">安全警报</option>
                                <option value="welcome">欢迎邮件</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="email-template-priority">优先级 <span class="required">*</span></label>
                            <input type="number" id="email-template-priority" value="100" min="1" required>
                            <small>数字越小优先级越高</small>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="email-template-subject">邮件主题 <span class="required">*</span></label>
                        <input type="text" id="email-template-subject" placeholder="例如：【一碗小米周】注册验证码" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="email-template-content">模板内容 (HTML格式) <span class="required">*</span></label>
                        <textarea id="email-template-content" rows="15" placeholder="请输入HTML格式的邮件模板内容..." required></textarea>
                        <small>支持HTML标签，可使用 {{变量名}} 作为占位符</small>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-template-variables">模板变量 (JSON数组)</label>
                            <textarea id="email-template-variables" rows="4" placeholder='["username", "code", "expire_minutes"]'></textarea>
                            <small>JSON数组格式，例如：["username", "code"]</small>
                        </div>
                        <div class="form-group">
                            <label for="email-template-variable-descriptions">变量说明 (JSON对象)</label>
                            <textarea id="email-template-variable-descriptions" rows="4" placeholder='{"username": "用户名", "code": "验证码"}'></textarea>
                            <small>JSON对象格式，例如：{"username": "用户名"}</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email-template-status">状态</label>
                            <select id="email-template-status">
                                <option value="1">正常</option>
                                <option value="0">禁用</option>
                                <option value="2">草稿</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="email-template-is-enabled">是否启用</label>
                            <select id="email-template-is-enabled">
                                <option value="1">启用</option>
                                <option value="0">不启用</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="email-template-description">备注说明</label>
                        <textarea id="email-template-description" rows="3" placeholder="模板说明..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeEmailTemplateModal()">取消</button>
                <button class="btn-primary" id="btn-save-email-template">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 短信配置弹出框 -->
    <div id="sms-config-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 1100px;">
            <div class="modal-header">
                <h2 id="sms-config-modal-title">新增短信配置</h2>
                <button class="modal-close" onclick="closeSmsConfigModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="sms-config-form">
                    <input type="hidden" id="sms-config-id" value="">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sms-config-name">配置名称 <span class="required">*</span></label>
                            <input type="text" id="sms-config-name" placeholder="例如：阿里云-注册验证" required>
                        </div>
                        <div class="form-group">
                            <label for="sms-config-priority">优先级 <span class="required">*</span></label>
                            <input type="number" id="sms-config-priority" value="100" min="1" required>
                            <small>数字越小优先级越高</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="sms-config-purpose">短信用途 <span class="required">*</span></label>
                            <select id="sms-config-purpose" required>
                                <option value="">请选择用途</option>
                                <option value="register">注册</option>
                                <option value="login">登录</option>
                                <option value="reset_password">重置密码</option>
                                <option value="security_alert">安全警报</option>
                                <option value="verify">验证</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sms-config-channel">发送渠道 <span class="required">*</span></label>
                            <select id="sms-config-channel" required>
                                <option value="">请选择渠道</option>
                                <option value="aliyun">阿里云</option>
                                <option value="tencent">腾讯云</option>
                                <option value="321cn">321.com.cn</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="sms-config-signature">短信签名 <span class="required">*</span></label>
                            <input type="text" id="sms-config-signature" placeholder="例如：一碗小米周" required>
                        </div>
                        <div class="form-group">
                            <label for="sms-config-template-id">模板ID <span class="required">*</span></label>
                            <input type="text" id="sms-config-template-id" placeholder="例如：SMS_123456789" required>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="sms-config-template-content">模板内容（参考）</label>
                        <textarea id="sms-config-template-content" rows="3" placeholder='示例：{"code":"验证码"}'></textarea>
                        <small style="color: #e74c3c; font-weight: 500;">
                            <i class="fas fa-info-circle"></i> 
                            <strong>重要：</strong>此字段用于定义模板参数的映射关系。
                            配置示例：{"code":"验证码"}；
                            详细说明请查看 
                            <a href="https://docx.2hs.cn/web/#/664374947/252832752" target="_blank" style="color: #3498db; text-decoration: underline;">配置教程</a>
                        </small>
                    </div>

                    <div class="form-group full-width">
                        <label for="sms-config-credentials">密钥信息 (JSON格式) <span class="required">*</span></label>
                        <textarea id="sms-config-credentials" rows="4" placeholder='{"access_key":"your_access_key","secret_key":"your_secret_key"}' required></textarea>
                        <small>JSON对象格式，包含access_key和secret_key</small>
                    </div>

                    <div class="form-group full-width">
                        <label for="sms-config-channel-config">渠道配置 (JSON格式)</label>
                        <textarea id="sms-config-channel-config" rows="4" placeholder='{"region":"cn-hangzhou","endpoint":"dysmsapi.aliyuncs.com"}'></textarea>
                        <small>JSON对象格式，存储额外的渠道特定配置</small>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="sms-config-daily-limit">每日发送限制</label>
                            <input type="number" id="sms-config-daily-limit" value="1000" min="1">
                        </div>
                        <div class="form-group">
                            <label for="sms-config-status">状态</label>
                            <select id="sms-config-status">
                                <option value="1">正常</option>
                                <option value="0">禁用</option>
                                <option value="2">维护中</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="sms-config-is-enabled">是否启用</label>
                        <select id="sms-config-is-enabled">
                            <option value="1">启用</option>
                            <option value="0">不启用</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label for="sms-config-description">备注说明</label>
                        <textarea id="sms-config-description" rows="3" placeholder="配置说明..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeSmsConfigModal()">取消</button>
                <button class="btn-primary" id="btn-save-sms-config">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 人机验证配置弹出框 -->
    <div id="captcha-config-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 900px; width: 90%;">
            <div class="modal-header">
                <h2 id="captcha-config-modal-title">新增人机验证配置</h2>
                <button class="modal-close" onclick="closeCaptchaConfigModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <form id="captcha-config-form">
                    <input type="hidden" id="captcha-config-id" value="">
                    
                    <div class="form-group full-width" style="margin-bottom: 24px;">
                        <label for="captcha-config-name" style="margin-bottom: 10px; display: block;">配置名称 <span class="required">*</span></label>
                        <input type="text" id="captcha-config-name" placeholder="例如：极验行为验证" required style="padding: 12px;">
                    </div>

                    <div class="form-row" style="gap: 20px; margin-bottom: 24px;">
                        <div class="form-group">
                            <label for="captcha-config-provider" style="margin-bottom: 10px; display: block;">服务商 <span class="required">*</span></label>
                            <select id="captcha-config-provider" required style="padding: 12px;">
                                <option value="">请选择服务商</option>
                                <option value="geetest">极验</option>
                                <option value="recaptcha">Google reCAPTCHA</option>
                                <option value="hcaptcha">hCaptcha</option>
                                <option value="turnstile">Cloudflare Turnstile</option>
                                <option value="tencent">腾讯云</option>
                                <option value="aliyun">阿里云</option>
                                <option value="local">本地</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="captcha-config-priority" style="margin-bottom: 10px; display: block;">优先级 <span class="required">*</span></label>
                            <input type="number" id="captcha-config-priority" value="100" min="1" required style="padding: 12px;">
                            <small style="display: block; margin-top: 6px;">数字越小优先级越高</small>
                        </div>
                    </div>

                    <div class="form-group full-width" style="margin-bottom: 24px;">
                        <label style="margin-bottom: 12px; display: block;">适用场景 <span class="required">*</span></label>
                        <div style="display: flex; gap: 20px; flex-wrap: wrap; padding: 12px; background: #f8f9fa; border-radius: 6px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="captcha-scene-checkbox" value="login" style="width: 18px; height: 18px; cursor: pointer;"> 登录
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="captcha-scene-checkbox" value="register" style="width: 18px; height: 18px; cursor: pointer;"> 注册
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="captcha-scene-checkbox" value="reset_password" style="width: 18px; height: 18px; cursor: pointer;"> 重置密码
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="captcha-scene-checkbox" value="send_sms" style="width: 18px; height: 18px; cursor: pointer;"> 发送短信验证码
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="captcha-scene-checkbox" value="send_email" style="width: 18px; height: 18px; cursor: pointer;"> 发送邮箱验证码
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="captcha-scene-checkbox" value="comment" style="width: 18px; height: 18px; cursor: pointer;"> 评论
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="captcha-scene-checkbox" value="submit" style="width: 18px; height: 18px; cursor: pointer;"> 提交表单
                            </label>
                        </div>
                    </div>

                    <div class="form-row" style="gap: 20px; margin-bottom: 24px;">
                        <div class="form-group">
                            <label for="captcha-config-app-id" style="margin-bottom: 10px; display: block;">App ID / Site Key <span class="required">*</span></label>
                            <input type="text" id="captcha-config-app-id" placeholder="应用ID或站点密钥" required style="padding: 12px;">
                        </div>
                        <div class="form-group">
                            <label for="captcha-config-app-secret" style="margin-bottom: 10px; display: block;">App Secret / Secret Key <span class="required">*</span></label>
                            <input type="text" id="captcha-config-app-secret" placeholder="应用密钥或私钥" required style="padding: 12px;">
                        </div>
                    </div>

                    <div class="form-row" style="gap: 20px; margin-bottom: 24px;">
                        <div class="form-group">
                            <label for="captcha-config-status" style="margin-bottom: 10px; display: block;">状态 <span class="required">*</span></label>
                            <select id="captcha-config-status" required style="padding: 12px;">
                                <option value="1">正常</option>
                                <option value="0">禁用</option>
                                <option value="2">维护中</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <!-- 占位，保持布局对称 -->
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="padding: 20px 30px;">
                <button class="btn-secondary" onclick="closeCaptchaConfigModal()">取消</button>
                <button class="btn-primary" id="btn-save-captcha-config">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 新增敏感词弹出框 -->
    <div id="add-sensitive-word-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px; width: 90%;">
            <div class="modal-header">
                <h2>新增敏感词</h2>
                <button class="modal-close" onclick="closeAddSensitiveWordModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="add-word">敏感词 <span class="required">*</span></label>
                    <input type="text" id="add-word" placeholder="请输入敏感词" required>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="add-category">分类 <span class="required">*</span></label>
                    <select id="add-category" required>
                        <option value="">请选择分类</option>
                        <option value="system">系统保留</option>
                        <option value="political">政治</option>
                        <option value="pornographic">色情</option>
                        <option value="violent">暴力</option>
                        <option value="advertising">广告</option>
                        <option value="abuse">辱骂</option>
                        <option value="other">其他</option>
                    </select>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="add-severity">严重程度</label>
                    <select id="add-severity">
                        <option value="1">低</option>
                        <option value="2">中</option>
                        <option value="3">高</option>
                    </select>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="add-action">处理动作</label>
                    <select id="add-action">
                        <option value="reject">拒绝</option>
                        <option value="warn">警告</option>
                        <option value="replace">替换</option>
                    </select>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="add-replacement">替换词</label>
                    <input type="text" id="add-replacement" placeholder="当处理动作为替换时使用">
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="add-description">说明</label>
                    <textarea id="add-description" rows="3" placeholder="可选：添加说明"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeAddSensitiveWordModal()">取消</button>
                <button class="btn-primary" id="btn-add-sensitive-word">
                    <i class="fas fa-plus"></i> 新增
                </button>
            </div>
        </div>
    </div>

    <!-- 编辑敏感词弹出框 -->
    <div id="edit-sensitive-word-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px; width: 90%;">
            <div class="modal-header">
                <h2>编辑敏感词</h2>
                <button class="modal-close" onclick="closeEditSensitiveWordModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <input type="hidden" id="edit-word-id">
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="edit-word">敏感词 <span class="required">*</span></label>
                    <input type="text" id="edit-word" placeholder="请输入敏感词" required>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="edit-category">分类 <span class="required">*</span></label>
                    <select id="edit-category" required>
                        <option value="">请选择分类</option>
                        <option value="system">系统保留</option>
                        <option value="political">政治</option>
                        <option value="pornographic">色情</option>
                        <option value="violent">暴力</option>
                        <option value="advertising">广告</option>
                        <option value="abuse">辱骂</option>
                        <option value="other">其他</option>
                    </select>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="edit-severity">严重程度</label>
                    <select id="edit-severity">
                        <option value="1">低</option>
                        <option value="2">中</option>
                        <option value="3">高</option>
                    </select>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="edit-action">处理动作</label>
                    <select id="edit-action">
                        <option value="reject">拒绝</option>
                        <option value="warn">警告</option>
                        <option value="replace">替换</option>
                    </select>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="edit-replacement">替换词</label>
                    <input type="text" id="edit-replacement" placeholder="当处理动作为替换时使用">
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label>
                        <input type="checkbox" id="edit-is-enabled" style="width: 18px; height: 18px; margin-right: 8px; vertical-align: middle;">
                        启用
                    </label>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="edit-description">说明</label>
                    <textarea id="edit-description" rows="3" placeholder="可选：添加说明"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeEditSensitiveWordModal()">取消</button>
                <button class="btn-primary" id="btn-edit-sensitive-word">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 批量导入敏感词弹出框 -->
    <div id="batch-import-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px; width: 90%;">
            <div class="modal-header">
                <h2>批量导入敏感词</h2>
                <button class="modal-close" onclick="closeBatchImportModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="batch-import-category">分类 <span class="required">*</span></label>
                    <select id="batch-import-category" required>
                        <option value="">请选择分类</option>
                        <option value="system">系统保留</option>
                        <option value="political">政治</option>
                        <option value="pornographic">色情</option>
                        <option value="violent">暴力</option>
                        <option value="advertising">广告</option>
                        <option value="abuse">辱骂</option>
                        <option value="other">其他</option>
                    </select>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="batch-import-words">敏感词列表 <span class="required">*</span></label>
                    <textarea id="batch-import-words" rows="10" placeholder="请输入敏感词，多个敏感词用英文逗号(,)分隔&#10;例如：敏感词1,敏感词2,敏感词3" required></textarea>
                    <small style="display: block; margin-top: 6px; color: #666;">
                        提示：多个敏感词用英文逗号(,)分隔，系统会自动去重
                    </small>
                </div>
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="batch-import-description">说明</label>
                    <textarea id="batch-import-description" rows="3" placeholder="可选：添加说明"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeBatchImportModal()">取消</button>
                <button class="btn-primary" id="btn-batch-import">
                    <i class="fas fa-file-import"></i> 导入
                </button>
            </div>
        </div>
    </div>

    <!-- 批量更改分类弹出框 -->
    <div id="batch-change-category-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 500px; width: 90%;">
            <div class="modal-header">
                <h2>批量更改分类</h2>
                <button class="modal-close" onclick="closeBatchChangeCategoryModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <div class="form-group full-width" style="margin-bottom: 20px;">
                    <label for="batch-change-category">新分类 <span class="required">*</span></label>
                    <select id="batch-change-category" required>
                        <option value="">请选择分类</option>
                        <option value="system">系统保留</option>
                        <option value="political">政治</option>
                        <option value="pornographic">色情</option>
                        <option value="violent">暴力</option>
                        <option value="advertising">广告</option>
                        <option value="abuse">辱骂</option>
                        <option value="other">其他</option>
                    </select>
                </div>
                <div style="padding: 15px; background: #f8f9fa; border-radius: 6px; margin-bottom: 20px;">
                    <p style="margin: 0; color: #666; font-size: 14px;">
                        <i class="fas fa-info-circle"></i> 
                        将把选中的敏感词批量更改为指定分类
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeBatchChangeCategoryModal()">取消</button>
                <button class="btn-primary" id="btn-batch-change-category">
                    <i class="fas fa-check"></i> 确定更改
                </button>
            </div>
        </div>
    </div>

    <!-- 编辑存储配置弹出框 -->
    <div id="edit-storage-config-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 900px; width: 90%;">
            <div class="modal-header">
                <h2 id="storage-config-modal-title">编辑存储配置</h2>
                <button class="modal-close" onclick="closeEditStorageConfigModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <input type="hidden" id="storage-config-id">
                
                <!-- 基础配置 -->
                <div class="form-section">
                    <h3 class="form-section-title">基础配置</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="storage-config-name">配置名称 <span class="required">*</span></label>
                            <input type="text" id="storage-config-name" placeholder="请输入配置名称" required>
                        </div>
                        <div class="form-group">
                            <label for="storage-usage-type">用途类型 <span class="required">*</span></label>
                            <select id="storage-usage-type" required>
                                <option value="">请选择用途类型</option>
                                <option value="avatar">头像存储</option>
                                <option value="avatar_pending">待审核头像</option>
                                <option value="document">文档存储</option>
                                <option value="temp">临时文件</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="storage-type">存储类型 <span class="required">*</span></label>
                            <select id="storage-type" onchange="toggleStorageTypeFields()" required>
                                <option value="local">本地存储</option>
                                <option value="s3">S3对象存储</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="storage-enabled">状态 <span class="required">*</span></label>
                            <select id="storage-enabled" required>
                                <option value="1">启用</option>
                                <option value="0">禁用</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- 本地存储配置 -->
                <div class="form-section" id="local-storage-fields">
                    <h3 class="form-section-title">本地存储配置</h3>
                    
                    <div class="form-group full-width">
                        <label for="local-path">本地存储路径 <span class="required">*</span></label>
                        <input type="text" id="local-path" placeholder="例如: /var/www/storage/avatars">
                        <small class="form-text">服务器上的绝对路径</small>
                    </div>
                    
                    <div class="form-group full-width">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="auto-create-path" style="width: auto; margin: 0;">
                            <span>如果路径不存在则自动创建</span>
                        </label>
                        <small class="form-text">勾选后，系统会自动创建不存在的目录（需要父目录有写权限）</small>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="local-url-prefix">URL前缀 <span class="required">*</span></label>
                        <input type="text" id="local-url-prefix" placeholder="例如: https://example.com/storage/avatars">
                        <small class="form-text">访问文件的URL前缀</small>
                    </div>
                </div>
                
                <!-- S3存储配置 -->
                <div class="form-section" id="s3-storage-fields" style="display: none;">
                    <h3 class="form-section-title">S3对象存储配置</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="s3-endpoint">服务端点 <span class="required">*</span></label>
                            <input type="text" id="s3-endpoint" placeholder="例如: s3.amazonaws.com">
                        </div>
                        <div class="form-group">
                            <label for="s3-region">区域</label>
                            <input type="text" id="s3-region" placeholder="例如: us-east-1">
                        </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="s3-bucket">存储桶名称 <span class="required">*</span></label>
                        <input type="text" id="s3-bucket" placeholder="请输入存储桶名称">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="s3-path">存储桶内路径前缀</label>
                        <input type="text" id="s3-path" placeholder="例如: avatars/ 或 uploads/images/">
                        <small class="form-text">文件将存储在存储桶的此路径下，留空表示存储在根目录</small>
                    </div>
                    
                    <div class="form-group full-width">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="s3-auto-create-path" style="width: auto; margin: 0;">
                            <span>如果路径不存在则自动创建</span>
                        </label>
                        <small class="form-text">勾选后，上传文件时会自动创建不存在的路径前缀</small>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="s3-access-key">访问密钥 <span class="required">*</span></label>
                            <input type="text" id="s3-access-key" placeholder="请输入Access Key">
                        </div>
                        <div class="form-group">
                            <label for="s3-secret-key">密钥 <span class="required">*</span></label>
                            <input type="password" id="s3-secret-key" placeholder="请输入Secret Key">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="s3-use-path-style">路径样式</label>
                            <select id="s3-use-path-style">
                                <option value="0">虚拟主机样式</option>
                                <option value="1">路径样式</option>
                            </select>
                            <small class="form-text">某些S3兼容服务需要使用路径样式</small>
                        </div>
                        <div class="form-group">
                            <label for="s3-url-prefix">URL前缀</label>
                            <input type="text" id="s3-url-prefix" placeholder="自定义访问URL前缀（可选）">
                        </div>
                    </div>
                </div>
                
                <!-- 通用配置 -->
                <div class="form-section">
                    <h3 class="form-section-title">文件限制</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="max-file-size">最大文件大小（MB） <span class="required">*</span></label>
                            <input type="number" id="max-file-size" placeholder="5" min="0.1" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="allowed-extensions">允许的扩展名</label>
                            <input type="text" id="allowed-extensions" placeholder="例如: jpg,png,gif">
                            <small class="form-text">多个扩展名用逗号分隔，留空表示不限制</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeEditStorageConfigModal()">取消</button>
                <button class="btn-primary" id="btn-save-storage-config" onclick="saveStorageConfig()">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 头像审核弹窗 -->
    <div id="avatar-review-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 800px; width: 90%;">
            <div class="modal-header">
                <h3>头像审核</h3>
                <button class="btn-close" onclick="closeAvatarReviewModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="review-info">
                    <div class="user-info-row">
                        <img id="review-avatar-user-avatar" src="" alt="用户头像" class="review-avatar">
                        <div class="user-details">
                            <div class="user-name" id="review-avatar-username"></div>
                            <div class="user-meta">
                                <span id="review-avatar-upload-time"></span>
                                <span id="review-avatar-upload-ip"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="avatar-compare">
                        <div class="avatar-item">
                            <label>当前头像：</label>
                            <div class="avatar-preview">
                                <img id="review-avatar-old" src="" alt="当前头像">
                            </div>
                        </div>
                        <div class="avatar-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="avatar-item">
                            <label>新头像：</label>
                            <div class="avatar-preview highlight">
                                <img id="review-avatar-new" src="" alt="新头像">
                            </div>
                        </div>
                    </div>
                    
                    <div class="storage-info-box" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <h4 style="margin: 0 0 10px 0; font-size: 14px; color: #666;">
                            <i class="fas fa-database"></i> 存储信息
                        </h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 13px;">
                            <div>
                                <span style="color: #666;">存储类型：</span>
                                <span id="review-avatar-storage-type" style="font-weight: 500;"></span>
                            </div>
                            <div>
                                <span style="color: #666;">存储配置：</span>
                                <span id="review-avatar-storage-name" style="font-weight: 500;"></span>
                            </div>
                            <div style="grid-column: 1 / -1;">
                                <span style="color: #666;">文件路径：</span>
                                <code id="review-avatar-filename" style="background: #fff; padding: 2px 6px; border-radius: 4px; font-size: 12px; display: inline-block; margin-left: 5px;"></code>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>审核意见：</label>
                        <textarea id="review-avatar-comment" class="form-control" rows="3" placeholder="选填，记录审核意见"></textarea>
                    </div>
                    
                    <div class="form-group" id="reject-avatar-reason-group" style="display: none;">
                        <label>拒绝原因：<span class="text-danger">*</span></label>
                        <textarea id="reject-avatar-reason" class="form-control" rows="3" placeholder="请填写拒绝原因，将通知用户"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeAvatarReviewModal()">取消</button>
                <button class="btn-danger" onclick="handleAvatarReview('reject')">
                    <i class="fas fa-times-circle"></i> 拒绝
                </button>
                <button class="btn-success" onclick="handleAvatarReview('approve')">
                    <i class="fas fa-check-circle"></i> 通过
                </button>
            </div>
        </div>
    </div>

    <!-- 昵称审核弹窗 -->
    <div id="nickname-review-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 700px; width: 90%;">
            <div class="modal-header">
                <h3>昵称审核</h3>
                <button class="btn-close" onclick="closeNicknameReviewModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="review-info">
                    <div class="user-info-row">
                        <img id="review-user-avatar" src="" alt="用户头像" class="review-avatar">
                        <div class="user-details">
                            <div class="user-name" id="review-username"></div>
                            <div class="user-meta">
                                <span id="review-apply-time"></span>
                                <span id="review-apply-ip"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="nickname-change">
                        <div class="nickname-item">
                            <label>原昵称：</label>
                            <span id="review-old-nickname" class="nickname-value"></span>
                        </div>
                        <div class="nickname-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="nickname-item">
                            <label>新昵称：</label>
                            <span id="review-new-nickname" class="nickname-value highlight"></span>
                        </div>
                    </div>
                    
                    <div class="form-group" id="review-reason-group">
                        <label>申请理由：</label>
                        <div id="review-apply-reason" class="review-text"></div>
                    </div>
                    
                    <div class="form-group" id="review-sensitive-words-group" style="display: none;">
                        <label>检测到的敏感词：</label>
                        <div id="review-sensitive-words" class="sensitive-words-list"></div>
                    </div>
                    
                    <div class="form-group">
                        <label>审核意见：</label>
                        <textarea id="review-comment" class="form-control" rows="3" placeholder="选填，记录审核意见"></textarea>
                    </div>
                    
                    <div class="form-group" id="reject-reason-group" style="display: none;">
                        <label>拒绝原因：<span class="text-danger">*</span></label>
                        <textarea id="reject-reason" class="form-control" rows="3" placeholder="请填写拒绝原因，将通知用户"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeNicknameReviewModal()">取消</button>
                <button class="btn-danger" onclick="handleNicknameReview('reject')">
                    <i class="fas fa-times-circle"></i> 拒绝
                </button>
                <button class="btn-success" onclick="handleNicknameReview('approve')">
                    <i class="fas fa-check-circle"></i> 通过
                </button>
            </div>
        </div>
    </div>

    <!-- 授权应用详情/编辑模态框 -->
    <div id="oauth-app-modal" class="modal">
        <div class="modal-dialog modal-lg">
            <div class="modal-header">
                <h3 id="oauth-app-modal-title">应用详情</h3>
                <button class="modal-close" onclick="closeOAuthAppModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <div class="tab-headers">
                        <button class="tab-header active" data-tab="basic">基本信息</button>
                        <button class="tab-header" data-tab="permissions">权限配置</button>
                        <button class="tab-header" data-tab="callback">回调配置</button>
                        <button class="tab-header" data-tab="login">登录配置</button>
                        <button class="tab-header" data-tab="stats" id="tab-stats">统计信息</button>
                    </div>

                    <!-- 基本信息标签页 -->
                    <div class="tab-content active" data-tab="basic">
                        <div class="form-group">
                            <label>应用名称：<span class="text-danger">*</span></label>
                            <input type="text" id="app-site-name" class="form-control" placeholder="请输入应用名称">
                        </div>
                        <div class="form-group">
                            <label>应用ID：</label>
                            <input type="text" id="app-id" class="form-control" readonly>
                            <small class="form-text">应用ID创建后不可修改</small>
                        </div>
                        <div class="form-group">
                            <label>应用密钥：</label>
                            <div class="input-group">
                                <input type="password" id="app-secret-key" class="form-control" readonly>
                                <button class="btn btn-secondary" onclick="toggleSecretVisibility()">
                                    <i class="fas fa-eye" id="secret-eye-icon"></i>
                                </button>
                                <button class="btn btn-warning" onclick="resetAppSecret()" id="btn-reset-secret">
                                    <i class="fas fa-sync"></i> 重置密钥
                                </button>
                            </div>
                            <small class="form-text">密钥用于API调用验证，请妥善保管</small>
                        </div>
                        <div class="form-group">
                            <label>网站地址：<span class="text-danger">*</span></label>
                            <input type="url" id="app-site-url" class="form-control" placeholder="https://example.com">
                        </div>
                        <div class="form-group">
                            <label>网站协议：</label>
                            <select id="app-site-protocol" class="form-select">
                                <option value="https">HTTPS</option>
                                <option value="http">HTTP</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>应用图标URL：</label>
                            <input type="url" id="app-icon-url" class="form-control" placeholder="https://example.com/icon.png">
                        </div>
                        <div class="form-group">
                            <label>应用描述：</label>
                            <textarea id="app-description" class="form-control" rows="3" placeholder="请输入应用描述"></textarea>
                        </div>
                        <div class="form-group">
                            <label>应用状态：</label>
                            <select id="app-status" class="form-select">
                                <option value="1">正常</option>
                                <option value="0">封禁</option>
                                <option value="2">待审核</option>
                            </select>
                        </div>
                    </div>

                    <!-- 权限配置标签页 -->
                    <div class="tab-content" data-tab="permissions">
                        <div class="form-group">
                            <label>应用权限：</label>
                            <div class="checkbox-group" id="app-permissions">
                                <label class="checkbox-label">
                                    <input type="checkbox" value="user.basic" checked disabled>
                                    <span>基本信息（必选）</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="user.email">
                                    <span>邮箱地址</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="user.phone">
                                    <span>手机号码</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="user.profile">
                                    <span>详细资料</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- 回调配置标签页 -->
                    <div class="tab-content" data-tab="callback">
                        <div class="form-group">
                            <label>回调地址：</label>
                            <div id="callback-urls-list"></div>
                            <button class="btn btn-secondary btn-sm" onclick="addCallbackUrl()">
                                <i class="fas fa-plus"></i> 添加回调地址
                            </button>
                        </div>
                        <div class="form-group">
                            <label>回调匹配模式：</label>
                            <select id="app-callback-mode" class="form-select">
                                <option value="strict">严格匹配</option>
                                <option value="moderate">中等匹配</option>
                                <option value="loose">宽松匹配</option>
                            </select>
                            <small class="form-text">
                                严格：完全匹配；中等：允许子路径；宽松：允许子域名
                            </small>
                        </div>
                    </div>

                    <!-- 登录配置标签页 -->
                    <div class="tab-content" data-tab="login">
                        <div class="config-section">
                            <h4>注册配置</h4>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-register">
                                <span>启用注册功能</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-phone-register">
                                <span>启用手机号注册</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-email-register">
                                <span>启用邮箱注册</span>
                            </label>
                        </div>
                        <div class="config-section">
                            <h4>登录配置</h4>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-login">
                                <span>启用登录功能</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-password-login">
                                <span>启用账号密码登录</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-email-code-login">
                                <span>启用邮箱验证码登录</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-phone-code-login">
                                <span>启用手机验证码登录</span>
                            </label>
                        </div>
                        <div class="config-section">
                            <h4>第三方登录</h4>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-third-party-login">
                                <span>启用第三方登录</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-qq-login">
                                <span>启用QQ登录</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-wechat-login">
                                <span>启用微信登录</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-weibo-login">
                                <span>启用微博登录</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-github-login">
                                <span>启用GitHub登录</span>
                            </label>
                            <label class="switch-label">
                                <input type="checkbox" id="app-enable-google-login">
                                <span>启用Google登录</span>
                            </label>
                        </div>
                    </div>

                    <!-- 统计信息标签页 -->
                    <div class="tab-content" data-tab="stats">
                        <div class="stats-info">
                            <div class="stat-item">
                                <label>授权用户数：</label>
                                <span id="app-authorized-users">-</span>
                            </div>
                            <div class="stat-item">
                                <label>创建时间：</label>
                                <span id="app-created-at">-</span>
                            </div>
                            <div class="stat-item">
                                <label>更新时间：</label>
                                <span id="app-updated-at">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeOAuthAppModal()">取消</button>
                <button class="btn-danger" onclick="deleteOAuthApp()" id="btn-delete-app" style="display: none;">
                    <i class="fas fa-trash"></i> 删除应用
                </button>
                <button class="btn-primary" onclick="saveOAuthApp()" id="btn-save-app">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 确认对话框 -->
    <div id="confirm-dialog-modal" class="modal-overlay">
        <div class="modal-content" style="width: 480px;">
            <div class="modal-header" style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: #ff9800; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-question" style="color: white; font-size: 24px;"></i>
                    </div>
                    <h3 style="color: #e65100; margin: 0;">确认操作</h3>
                </div>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <p id="confirm-dialog-message" style="font-size: 16px; color: #333; line-height: 1.6; margin: 0;"></p>
            </div>
            <div class="modal-footer" style="display: flex; gap: 12px; justify-content: flex-end;">
                <button id="confirm-dialog-cancel" class="btn-secondary" style="padding: 10px 24px;">
                    <i class="fas fa-times"></i> 取消
                </button>
                <button id="confirm-dialog-confirm" class="btn-primary" style="padding: 10px 24px;">
                    <i class="fas fa-check"></i> 确定
                </button>
            </div>
        </div>
    </div>

    <!-- 更改默认应用弹窗 -->
    <div id="change-default-app-modal" class="modal-overlay">
        <div class="modal-content" style="width: 600px;">
            <div class="modal-header" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);">
                <h3 style="color: #1565c0; margin: 0;">
                    <i class="fas fa-exchange-alt"></i> 更改默认应用
                </h3>
                <button class="modal-close" onclick="closeChangeDefaultAppModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <!-- 加载中 -->
                <div id="change-app-loading" class="loading-state">
                    <div class="spinner"></div>
                    <p>加载应用列表...</p>
                </div>

                <!-- 选择应用 -->
                <div id="change-app-form" style="display: none;">
                    <div class="form-group">
                        <label style="font-weight: 600; color: #333; margin-bottom: 12px; display: block;">
                            <i class="fas fa-cube"></i> 选择应用
                        </label>
                        
                        <!-- 自定义搜索下拉框 -->
                        <div class="custom-select-wrapper">
                            <div class="custom-select-search">
                                <input type="text" id="app-search-input" placeholder="搜索应用名称或ID..." autocomplete="off">
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="custom-select-dropdown" id="app-dropdown" style="display: none;">
                                <div class="custom-select-options" id="app-options">
                                    <!-- 选项将通过JavaScript动态生成 -->
                                </div>
                            </div>
                            <input type="hidden" id="select-default-app" value="">
                        </div>
                        
                        <small style="color: #666; margin-top: 8px; display: block;">
                            只显示状态正常的应用
                        </small>
                    </div>

                    <div id="selected-app-info" style="display: none; margin-top: 20px; padding: 16px; background: #f8fbff; border-radius: 8px; border: 1px solid #e3f2fd;">
                        <h4 style="margin: 0 0 12px 0; color: #1565c0; font-size: 14px;">
                            <i class="fas fa-info-circle"></i> 应用信息
                        </h4>
                        <div style="font-size: 13px; color: #666; line-height: 1.8;">
                            <div><strong>应用名称：</strong><span id="selected-app-name">-</span></div>
                            <div><strong>应用ID：</strong><code id="selected-app-id" style="font-size: 12px;">-</code></div>
                            <div><strong>网站地址：</strong><span id="selected-app-url">-</span></div>
                        </div>
                    </div>

                    <div id="callback-warning" style="display: none; margin-top: 20px; padding: 16px; background: #fff3e0; border-left: 4px solid #ff9800; border-radius: 8px;">
                        <div style="display: flex; align-items: start; gap: 12px;">
                            <i class="fas fa-exclamation-triangle" style="color: #ff9800; font-size: 20px; margin-top: 2px;"></i>
                            <div>
                                <strong style="color: #e65100;">需要添加回调地址</strong>
                                <p id="callback-warning-text" style="margin: 8px 0 0 0; color: #666; font-size: 14px; line-height: 1.6;"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeChangeDefaultAppModal()">
                    <i class="fas fa-times"></i> 取消
                </button>
                <button id="btn-confirm-change-app" class="btn-primary" onclick="confirmChangeDefaultApp()" disabled>
                    <i class="fas fa-check"></i> 确认更改
                </button>
            </div>
        </div>
    </div>

    <!-- 应用创建成功弹窗 -->
    <div id="app-created-success-modal" class="modal-overlay">
        <div class="modal-content" style="width: 600px;">
            <div class="modal-header" style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: #4caf50; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-check" style="color: white; font-size: 24px;"></i>
                    </div>
                    <h3 style="color: #2e7d32; margin: 0;">应用创建成功</h3>
                </div>
                <button class="modal-close" onclick="closeAppCreatedSuccessModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="padding: 30px;">
                <div style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
                    <div style="display: flex; align-items: start; gap: 12px;">
                        <i class="fas fa-exclamation-triangle" style="color: #ff9800; font-size: 20px; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: #f57c00;">重要提示</strong>
                            <p style="margin: 8px 0 0 0; color: #666; font-size: 14px;">应用密钥只显示一次，请务必妥善保管！</p>
                        </div>
                    </div>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label style="font-weight: 600; color: #333; margin-bottom: 8px; display: block;">
                        <i class="fas fa-key" style="color: #1976d2;"></i> 应用ID (App ID)
                    </label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="created-app-id" readonly 
                               style="flex: 1; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; background: #f5f5f5; font-family: 'Courier New', monospace; font-size: 14px;">
                        <button class="btn-primary" onclick="copyToClipboard('created-app-id', '应用ID')" style="padding: 12px 20px;">
                            <i class="fas fa-copy"></i> 复制
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label style="font-weight: 600; color: #333; margin-bottom: 8px; display: block;">
                        <i class="fas fa-lock" style="color: #d32f2f;"></i> 应用密钥 (Secret Key)
                    </label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="created-app-secret" readonly 
                               style="flex: 1; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; background: #f5f5f5; font-family: 'Courier New', monospace; font-size: 14px;">
                        <button class="btn-primary" onclick="copyToClipboard('created-app-secret', '应用密钥')" style="padding: 12px 20px;">
                            <i class="fas fa-copy"></i> 复制
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="closeAppCreatedSuccessModal()" style="padding: 12px 32px;">
                    <i class="fas fa-check"></i> 我已保存
                </button>
            </div>
        </div>
    </div>

    <!-- 短信频率限制弹出框 -->
    <div id="send-limit-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 id="send-limit-modal-title">新增频率限制</h2>
                <button class="modal-close" onclick="closeSendLimitModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="send-limit-form">
                    <input type="hidden" id="send-limit-id" value="">
                    
                    <div class="form-group full-width">
                        <label for="send-limit-name">限制名称 <span class="required">*</span></label>
                        <input type="text" id="send-limit-name" placeholder="例如：手机号60秒限制" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="send-limit-template-type">限制对象 <span class="required">*</span></label>
                            <select id="send-limit-template-type" required>
                                <option value="">请选择</option>
                                <option value="template">指定模板</option>
                                <option value="channel">指定服务商（所有模板）</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="send-limit-purpose">短信用途 <span class="required">*</span></label>
                            <select id="send-limit-purpose" required>
                                <option value="*">全部用途</option>
                                <option value="register">注册</option>
                                <option value="login">登录</option>
                                <option value="reset_password">重置密码</option>
                                <option value="security_alert">安全警报</option>
                                <option value="verify">验证</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group full-width" id="template-select-group">
                        <label for="send-limit-template-id">选择模板/服务商 <span class="required">*</span></label>
                        <select id="send-limit-template-id" required>
                            <option value="">请先选择限制对象</option>
                        </select>
                        <small id="template-select-hint"></small>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="send-limit-type">限制类型 <span class="required">*</span></label>
                            <select id="send-limit-type" required>
                                <option value="">请选择类型</option>
                                <option value="phone">手机号</option>
                                <option value="ip">IP地址</option>
                                <option value="phone_template">手机号+模板</option>
                                <option value="ip_template">IP+模板</option>
                                <option value="global">全局</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="send-limit-priority">优先级 <span class="required">*</span></label>
                            <input type="number" id="send-limit-priority" value="100" min="1" required>
                            <small>数字越小优先级越高</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="send-limit-time-window">时间窗口（秒） <span class="required">*</span></label>
                            <input type="number" id="send-limit-time-window" placeholder="例如：60" min="1" required>
                            <small>60秒=1分钟，3600秒=1小时</small>
                        </div>
                        <div class="form-group">
                            <label for="send-limit-max-count">最大次数 <span class="required">*</span></label>
                            <input type="number" id="send-limit-max-count" placeholder="例如：1" min="1" required>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="send-limit-is-enabled">是否启用</label>
                        <select id="send-limit-is-enabled">
                            <option value="1">启用</option>
                            <option value="0">禁用</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label for="send-limit-description">描述</label>
                        <textarea id="send-limit-description" rows="3" placeholder="限制说明..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeSendLimitModal()">取消</button>
                <button class="btn-primary" id="btn-save-send-limit" onclick="saveSendLimit()">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 白名单弹出框 -->
    <div id="whitelist-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 id="whitelist-modal-title">添加白名单</h2>
                <button class="modal-close" onclick="closeWhitelistModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="whitelist-form">
                    <input type="hidden" id="whitelist-id" value="">
                    
                    <div class="form-group full-width">
                        <label for="whitelist-phone">手机号 <span class="required">*</span></label>
                        <input type="text" id="whitelist-phone" placeholder="例如：13800138000" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="whitelist-reason">原因/备注</label>
                        <textarea id="whitelist-reason" rows="3" placeholder="加入白名单的原因..."></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="whitelist-is-enabled">是否启用</label>
                            <select id="whitelist-is-enabled">
                                <option value="1">启用</option>
                                <option value="0">禁用</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="whitelist-expires-at">过期时间</label>
                            <input type="datetime-local" id="whitelist-expires-at">
                            <small>留空表示永久有效</small>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeWhitelistModal()">取消</button>
                <button class="btn-primary" id="btn-save-whitelist" onclick="saveWhitelist()">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 黑名单弹出框 -->
    <div id="blacklist-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 id="blacklist-modal-title">添加黑名单</h2>
                <button class="modal-close" onclick="closeBlacklistModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="blacklist-form">
                    <input type="hidden" id="blacklist-id" value="">
                    
                    <div class="form-group full-width">
                        <label for="blacklist-phone">手机号 <span class="required">*</span></label>
                        <input type="text" id="blacklist-phone" placeholder="例如：13800138000" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="blacklist-reason">原因/备注 <span class="required">*</span></label>
                        <textarea id="blacklist-reason" rows="3" placeholder="加入黑名单的原因..." required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="blacklist-is-enabled">是否启用</label>
                            <select id="blacklist-is-enabled">
                                <option value="1">启用</option>
                                <option value="0">禁用</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="blacklist-expires-at">过期时间</label>
                            <input type="datetime-local" id="blacklist-expires-at">
                            <small>留空表示永久封禁</small>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeBlacklistModal()">取消</button>
                <button class="btn-primary" id="btn-save-blacklist" onclick="saveBlacklist()">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <!-- 第三方授权配置弹窗 -->
    <div id="third-party-login-config-modal" class="modal-overlay">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 id="third-party-login-config-modal-title">新增第三方授权配置</h2>
                <button class="modal-close" onclick="closeThirdPartyLoginConfigModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="third-party-login-config-form">
                    <input type="hidden" id="third-party-login-config-id">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="third-party-login-config-name">配置名称 <span class="required">*</span></label>
                            <input type="text" id="third-party-login-config-name" required placeholder="例如：微信开放平台登录">
                        </div>
                        
                        <div class="form-group">
                            <label for="third-party-login-config-platform">第三方平台 <span class="required">*</span></label>
                            <select id="third-party-login-config-platform" required>
                                <option value="">请选择</option>
                                <option value="wechat">微信</option>
                                <option value="qq">QQ</option>
                                <option value="weibo">微博</option>
                                <option value="alipay">支付宝</option>
                                <option value="github">GitHub</option>
                                <option value="google">Google</option>
                                <option value="apple">Apple</option>
                                <option value="dingtalk">钉钉</option>
                                <option value="feishu">飞书</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="third-party-login-config-app-id">应用ID <span class="required">*</span></label>
                            <input type="text" id="third-party-login-config-app-id" required placeholder="Client ID / App ID">
                        </div>
                        
                        <div class="form-group">
                            <label for="third-party-login-config-app-secret">应用密钥 <span class="required">*</span></label>
                            <div style="position: relative;">
                                <input type="password" id="third-party-login-config-app-secret" required placeholder="Client Secret / App Secret" style="padding-right: 40px;">
                                <button type="button" class="btn-toggle-password" onclick="toggleThirdPartyLoginConfigPassword()" style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; padding: 5px; color: #666;">
                                    <i class="fas fa-eye" id="third-party-login-config-password-icon"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="third-party-login-config-callback-url">回调地址 <span class="required">*</span></label>
                        <input type="url" id="third-party-login-config-callback-url" required placeholder="https://your-domain.com/auth/callback/platform">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="third-party-login-config-scopes">授权范围</label>
                        <input type="text" id="third-party-login-config-scopes" placeholder='例如：["snsapi_login"] 或 user:email'>
                        <small class="form-hint">多个范围用逗号分隔，或使用JSON数组格式</small>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="third-party-login-config-status">状态</label>
                            <select id="third-party-login-config-status">
                                <option value="1">正常</option>
                                <option value="0">禁用</option>
                                <option value="2">维护中</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="third-party-login-config-priority">优先级</label>
                            <input type="number" id="third-party-login-config-priority" value="100" min="0">
                            <small class="form-hint">数字越小优先级越高</small>
                        </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label class="checkbox-label">
                            <input type="checkbox" id="third-party-login-config-is-enabled">
                            <span>启用此配置</span>
                        </label>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="third-party-login-config-extra-config">额外配置（JSON格式）</label>
                        <textarea id="third-party-login-config-extra-config" rows="4" placeholder='{"auth_url": "https://...", "token_url": "https://..."}'></textarea>
                        <small class="form-hint">平台特有的配置信息，必须是有效的JSON格式</small>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="third-party-login-config-description">配置说明</label>
                        <textarea id="third-party-login-config-description" rows="3" placeholder="配置说明..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeThirdPartyLoginConfigModal()">取消</button>
                <button class="btn-primary" id="btn-save-third-party-login-config" onclick="saveThirdPartyLoginConfig()">
                    <i class="fas fa-save"></i> 保存
                </button>
            </div>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>
